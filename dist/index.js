!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],t):"object"==typeof exports?exports.Dropzone=t(require("react"),require("prop-types")):e.Dropzone=t(e.React,e.PropTypes)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),d=n(2),h=r(d),v=n(3),g=n(4),m=n(6),y=r(m),D=function(e){function t(e,n){a(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.renderChildren=function(e,t,n,o){return"function"==typeof e?e(l({},r.state,{isDragActive:t,isDragAccept:n,isDragReject:o})):e},r.composeHandlers=r.composeHandlers.bind(r),r.onClick=r.onClick.bind(r),r.onDocumentDrop=r.onDocumentDrop.bind(r),r.onDragEnter=r.onDragEnter.bind(r),r.onDragLeave=r.onDragLeave.bind(r),r.onDragOver=r.onDragOver.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrop=r.onDrop.bind(r),r.onFileDialogCancel=r.onFileDialogCancel.bind(r),r.onInputElementClick=r.onInputElementClick.bind(r),r.setRef=r.setRef.bind(r),r.setRefs=r.setRefs.bind(r),r.isFileDialogActive=!1,r.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},r}return c(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",g.onDocumentDragOver,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),document.body.onfocus=this.onFileDialogCancel}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",g.onDocumentDragOver),document.removeEventListener("drop",this.onDocumentDrop)),null!=this.fileInputEl&&this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),null!=document&&(document.body.onfocus=null)}},{key:"composeHandlers",value:function(e){return this.props.disabled?null:e}},{key:"onDocumentDrop",value:function(e){this.node&&this.node.contains(e.target)||(e.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(e){this.props.onDragStart&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){e.preventDefault(),-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target);var t=(0,g.getDataTransferItems)(e);t&&t.length&&(this.setState({isDragActive:!0,draggedFiles:t}),this.props.onDragEnter&&this.props.onDragEnter.call(this,e))}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation();try{e.dataTransfer.dropEffect=this.isFileDialogActive?"none":"copy"}catch(e){}return this.props.onDragOver&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){var t=this;e.preventDefault(),this.dragTargets=this.dragTargets.filter(function(n){return n!==e.target&&t.node.contains(n)}),this.dragTargets.length>0||(this.setState({isDragActive:!1,draggedFiles:[]}),this.props.onDragLeave&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var t=this,n=this.props,r=n.onDrop,o=n.onDropAccepted,a=n.onDropRejected,s=n.multiple,c=n.disablePreview,l=n.accept;e.preventDefault(),this.dragTargets=[],this.isFileDialogActive=!1,this.draggedFiles=null,this.setState({isDragActive:!1,draggedFiles:[]}),(0,v.getDroppedOrSelectedFiles)(e).then(function(n){var u=[],f=[];n.forEach(function(e){var n=e.fileObject;if(!c)try{n.preview=window.URL.createObjectURL(n)}catch(e){}(0,g.fileAccepted)(n,l)&&(0,g.fileMatchSize)(n,t.props.maxSize,t.props.minSize)?u.push(n):f.push(n)}),s||f.push.apply(f,i(u.splice(1))),r&&r.call(t,u,f,e),f.length>0&&a&&a.call(t,f,e),u.length>0&&o&&o.call(t,u,e)})}},{key:"onClick",value:function(e){var t=this.props,n=t.onClick;t.disableClick||(e.stopPropagation(),n&&n.call(this,e),(0,g.isIeOrEdge)()?setTimeout(this.open.bind(this),0):this.open())}},{key:"onInputElementClick",value:function(e){e.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick()}},{key:"onFileDialogCancel",value:function(){var e=this,t=this.props.onFileDialogCancel;this.isFileDialogActive&&setTimeout(function(){if(null!=e.fileInputEl){e.fileInputEl.files.length||(e.isFileDialogActive=!1)}"function"==typeof t&&t()},300)}},{key:"setRef",value:function(e){this.node=e}},{key:"setRefs",value:function(e){this.fileInputEl=e}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.acceptClassName,r=e.activeClassName,i=e.children,a=e.disabled,s=e.disabledClassName,c=e.inputProps,u=e.multiple,f=e.name,d=e.rejectClassName,h=o(e,["accept","acceptClassName","activeClassName","children","disabled","disabledClassName","inputProps","multiple","name","rejectClassName"]),v=h.acceptStyle,m=h.activeStyle,D=h.className,b=void 0===D?"":D,x=h.disabledStyle,S=h.rejectStyle,O=h.style,E=o(h,["acceptStyle","activeStyle","className","disabledStyle","rejectStyle","style"]),C=this.state,P=C.isDragActive,j=C.draggedFiles,k=j.length,w=u||k<=1,_=k>0&&(0,g.allFilesAccepted)(j,this.props.accept),A=k>0&&(!_||!w),F=!(b||O||m||v||S||x);P&&r&&(b+=" "+r),_&&n&&(b+=" "+n),A&&d&&(b+=" "+d),a&&s&&(b+=" "+s),F&&(O=y.default.default,m=y.default.active,v=O.active,S=y.default.rejected,x=y.default.disabled);var T=l({},O);m&&P&&(T=l({},O,m)),v&&_&&(T=l({},T,v)),S&&A&&(T=l({},T,S)),x&&a&&(T=l({},O,x));var M={accept:t,disabled:a,type:"file",style:{display:"none"},multiple:g.supportMultiple&&u,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"};f&&f.length&&(M.name=f);var I=(E.acceptedFiles,E.preventDropOnDocument,E.disablePreview,E.disableClick,E.onDropAccepted,E.onDropRejected,E.onFileDialogCancel,E.maxSize,E.minSize,o(E,["acceptedFiles","preventDropOnDocument","disablePreview","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize"]));return p.default.createElement("div",l({className:b,style:T},I,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":a}),this.renderChildren(i,P,_,A),p.default.createElement("input",l({},c,M)))}}]),t}(p.default.Component);t.default=D,D.propTypes={accept:h.default.string,children:h.default.oneOfType([h.default.node,h.default.func]),disableClick:h.default.bool,disabled:h.default.bool,disablePreview:h.default.bool,preventDropOnDocument:h.default.bool,inputProps:h.default.object,multiple:h.default.bool,name:h.default.string,maxSize:h.default.number,minSize:h.default.number,className:h.default.string,activeClassName:h.default.string,acceptClassName:h.default.string,rejectClassName:h.default.string,disabledClassName:h.default.string,style:h.default.object,activeStyle:h.default.object,acceptStyle:h.default.object,rejectStyle:h.default.object,disabledStyle:h.default.object,onClick:h.default.func,onDrop:h.default.func,onDropAccepted:h.default.func,onDropRejected:h.default.func,onDragStart:h.default.func,onDragEnter:h.default.func,onDragOver:h.default.func,onDragLeave:h.default.func,onFileDialogCancel:h.default.func},D.defaultProps={preventDropOnDocument:!0,disabled:!1,disablePreview:!1,disableClick:!1,multiple:!0,maxSize:1/0,minSize:0},e.exports=t.default},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e){return u.indexOf(e.name)>=0}function o(e){var t=e.createReader();return new Promise(function(e){function n(){t.readEntries(function(t){t.length?(r.push(Promise.all(t.map(function(e){return e.isDirectory?o(e):Promise.resolve(e)}))),n()):e(Promise.all(r))},i)}var r=[],i=function(){};n()})}function i(e,t){return{fileObject:e,type:e.type?e.type:"",name:e.name,size:e.size,fullPath:t?t.fullPath:e.name}}function a(e){return new Promise(function(t){e.file(function(n){t(i(n,e))})})}function s(e,t){return Promise.all(e).then(function(e){return e.forEach(function(e){r(e)||t.push(e)}),t})}function c(e){var t=[],n=[],r=[];if([].slice.call(e.items).forEach(function(e){if("function"==typeof e.webkitGetAsEntry){var i=e.webkitGetAsEntry();i&&(i.isDirectory?n.push(o(i)):r.push(a(i)))}else t.push(e)}),n.length){var i=function e(t){return t.reduce(function(t,n){return t.concat(Array.isArray(n)?e(n):n)},[])};return Promise.all(n).then(function(e){return i(e).forEach(function(e){r.push(a(e))}),s(r,t)})}return r.length?s(r,t):Promise.resolve(t)}function l(e){var t=e.dataTransfer;if(t&&t.items)return c(t).then(function(e){return Promise.resolve(e)});for(var n=[],r=t&&t.files,o=e.target&&e.target.files,a=r||o||[],s=0;s<a.length;s+=1)n.push(i(a[s]));return Promise.resolve(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.getDataTransferFiles=c,t.getDroppedOrSelectedFiles=l;var u=[".DS_Store","Thumbs.db"]},function(e,t,n){"use strict";function r(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;if(n.files&&n.files.length)t=n.files;else if(n.items&&n.items.length)for(var r=0;r<n.items.length;r+=1)"file"===n.items[r].kind&&t.push(n.items[r])}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}function o(e,t){return"application/x-moz-file"===e.type||(0,p.default)(e,t)}function i(e,t,n){return e.size<=t&&e.size>=n}function a(e,t){return e.every(function(e){return o(e,t)})}function s(e){e.preventDefault()}function c(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function l(e){return-1!==e.indexOf("Edge/")}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return c(e)||l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.supportMultiple=void 0,t.getDataTransferItems=r,t.fileAccepted=o,t.fileMatchSize=i,t.allFilesAccepted=a,t.onDocumentDragOver=s,t.isIeOrEdge=u;var f=n(5),p=function(e){return e&&e.__esModule?e:{default:e}}(f);t.supportMultiple="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input")},function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";t.__esModule=!0,n(8),n(9),t.default=function(e,t){if(e&&t){var n=function(){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=e.type||"",i=o.replace(/\/.*$/,"");return{v:n.some(function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):/\/\*$/.test(t)?i===t.replace(/\/.*$/,""):o===t})}}();if("object"==typeof n)return n.v}return!0},e.exports=t.default},function(e,t){var n=e.exports={version:"1.2.2"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(2),o=n(1),i=n(4),a=n(19),s="prototype",c=function(e,t){return function(){return e.apply(t,arguments)}},l=function(e,t,n){var u,f,p,d,h=e&l.G,v=e&l.P,g=h?r:e&l.S?r[t]||(r[t]={}):(r[t]||{})[s],m=h?o:o[t]||(o[t]={});h&&(n=t);for(u in n)f=!(e&l.F)&&g&&u in g,p=(f?g:n)[u],d=e&l.B&&f?c(p,r):v&&"function"==typeof p?c(Function.call,p):p,g&&!f&&a(g,u,p),m[u]!=p&&i(m,u,d),v&&((m[s]||(m[s]={}))[u]=p)};r.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,e.exports=l},function(e,t,n){var r=n(5),o=n(18);e.exports=n(22)?function(e,t,n){return r.setDesc(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(20)("wks"),o=n(2).Symbol;e.exports=function(e){return r[e]||(r[e]=o&&o[e]||(o||n(6))("Symbol."+e))}},function(e,t,n){n(26),e.exports=n(1).Array.some},function(e,t,n){n(25),e.exports=n(1).String.endsWith},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(10);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n(7)("match")]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(16),o=n(11),i=n(7)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(2),o=n(4),i=n(6)("src"),a="toString",s=Function[a],c=(""+s).split(a);n(1).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,a){"function"==typeof n&&(o(n,i,e[t]?""+e[t]:c.join(String(t))),"name"in n||(n.name=t)),e===r?e[t]=n:(a||delete e[t],o(e,t,n))})(Function.prototype,a,function(){return"function"==typeof this&&this[i]||s.call(this)})},function(e,t,n){var r=n(2),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(17),o=n(13);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){e.exports=!n(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(23),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(3),o=n(24),i=n(21),a="endsWith",s=""[a];r(r.P+r.F*n(14)(a),"String",{endsWith:function(e){var t=i(this,e,a),n=arguments,r=n.length>1?n[1]:void 0,c=o(t.length),l=void 0===r?c:Math.min(o(r),c),u=String(e);return s?s.call(t,u,l):t.slice(l-u.length,l)===u}})},function(e,t,n){var r=n(5),o=n(3),i=n(1).Array||Array,a={},s=function(e,t){r.each.call(e.split(","),function(e){void 0==t&&e in i?a[e]=i[e]:e in[]&&(a[e]=n(12)(Function.call,[][e],t))})};s("pop,reverse,shift,keys,values,entries",1),s("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),s("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"),o(o.S,"Array",a)}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={rejected:{borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"},disabled:{opacity:.5},active:{borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},default:{width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5}},e.exports=t.default}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgOTk3MmJjNzI4ZGVhMzkwMjMyNjYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy9leHRlcm5hbCB7XCJyb290XCI6XCJSZWFjdFwiLFwiY29tbW9uanMyXCI6XCJyZWFjdFwiLFwiY29tbW9uanNcIjpcInJlYWN0XCIsXCJhbWRcIjpcInJlYWN0XCJ9Iiwid2VicGFjazovLy9leHRlcm5hbCB7XCJyb290XCI6XCJQcm9wVHlwZXNcIixcImNvbW1vbmpzMlwiOlwicHJvcC10eXBlc1wiLFwiY29tbW9uanNcIjpcInByb3AtdHlwZXNcIixcImFtZFwiOlwicHJvcC10eXBlc1wifSIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvSHRtbDVGaWxlU2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdHRyLWFjY2VwdC9kaXN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9zdHlsZXMuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJpIiwibCIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsImRlZmF1bHQiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJrZXlzIiwidGFyZ2V0IiwiaW5kZXhPZiIsIl90b0NvbnN1bWFibGVBcnJheSIsImFyciIsIkFycmF5IiwiaXNBcnJheSIsImFycjIiLCJsZW5ndGgiLCJmcm9tIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJ2YWx1ZSIsIndyaXRhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfZXh0ZW5kcyIsImFzc2lnbiIsImFyZ3VtZW50cyIsInNvdXJjZSIsImtleSIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfcmVhY3QiLCJfcmVhY3QyIiwiX3Byb3BUeXBlcyIsIl9wcm9wVHlwZXMyIiwiX0h0bWw1RmlsZVNlbGVjdG9yIiwiX3V0aWxzIiwiX3N0eWxlcyIsIl9zdHlsZXMyIiwiRHJvcHpvbmUiLCJfUmVhY3QkQ29tcG9uZW50IiwiY29udGV4dCIsIl90aGlzIiwiZ2V0UHJvdG90eXBlT2YiLCJyZW5kZXJDaGlsZHJlbiIsImNoaWxkcmVuIiwiaXNEcmFnQWN0aXZlIiwiaXNEcmFnQWNjZXB0IiwiaXNEcmFnUmVqZWN0Iiwic3RhdGUiLCJjb21wb3NlSGFuZGxlcnMiLCJiaW5kIiwib25DbGljayIsIm9uRG9jdW1lbnREcm9wIiwib25EcmFnRW50ZXIiLCJvbkRyYWdMZWF2ZSIsIm9uRHJhZ092ZXIiLCJvbkRyYWdTdGFydCIsIm9uRHJvcCIsIm9uRmlsZURpYWxvZ0NhbmNlbCIsIm9uSW5wdXRFbGVtZW50Q2xpY2siLCJzZXRSZWYiLCJzZXRSZWZzIiwiaXNGaWxlRGlhbG9nQWN0aXZlIiwiZHJhZ2dlZEZpbGVzIiwiYWNjZXB0ZWRGaWxlcyIsInJlamVjdGVkRmlsZXMiLCJwcmV2ZW50RHJvcE9uRG9jdW1lbnQiLCJkcmFnVGFyZ2V0cyIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uRG9jdW1lbnREcmFnT3ZlciIsImZpbGVJbnB1dEVsIiwiYm9keSIsIm9uZm9jdXMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlciIsImRpc2FibGVkIiwiZXZ0Iiwibm9kZSIsImNvbnRhaW5zIiwicHJldmVudERlZmF1bHQiLCJwdXNoIiwiZmlsZXMiLCJnZXREYXRhVHJhbnNmZXJJdGVtcyIsInNldFN0YXRlIiwic3RvcFByb3BhZ2F0aW9uIiwiZGF0YVRyYW5zZmVyIiwiZHJvcEVmZmVjdCIsImVyciIsIl90aGlzMiIsImZpbHRlciIsImVsIiwiX3RoaXMzIiwiX3Byb3BzIiwib25Ecm9wQWNjZXB0ZWQiLCJvbkRyb3BSZWplY3RlZCIsIm11bHRpcGxlIiwiZGlzYWJsZVByZXZpZXciLCJhY2NlcHQiLCJnZXREcm9wcGVkT3JTZWxlY3RlZEZpbGVzIiwidGhlbiIsImZpbGVMaXN0IiwiZm9yRWFjaCIsImZpbGVXcmFwIiwiZmlsZSIsImZpbGVPYmplY3QiLCJwcmV2aWV3Iiwid2luZG93IiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZmlsZUFjY2VwdGVkIiwiZmlsZU1hdGNoU2l6ZSIsIm1heFNpemUiLCJtaW5TaXplIiwiYXBwbHkiLCJzcGxpY2UiLCJfcHJvcHMyIiwiZGlzYWJsZUNsaWNrIiwiaXNJZU9yRWRnZSIsInNldFRpbWVvdXQiLCJvcGVuIiwiaW5wdXRQcm9wcyIsIl90aGlzNCIsInJlZiIsImNsaWNrIiwiX3Byb3BzMyIsImFjY2VwdENsYXNzTmFtZSIsImFjdGl2ZUNsYXNzTmFtZSIsImRpc2FibGVkQ2xhc3NOYW1lIiwicmVqZWN0Q2xhc3NOYW1lIiwicmVzdCIsImFjY2VwdFN0eWxlIiwiYWN0aXZlU3R5bGUiLCJfcmVzdCRjbGFzc05hbWUiLCJjbGFzc05hbWUiLCJ1bmRlZmluZWQiLCJkaXNhYmxlZFN0eWxlIiwicmVqZWN0U3R5bGUiLCJzdHlsZSIsIl9zdGF0ZSIsImZpbGVzQ291bnQiLCJpc011bHRpcGxlQWxsb3dlZCIsImFsbEZpbGVzQWNjZXB0ZWQiLCJub1N0eWxlcyIsImFjdGl2ZSIsInJlamVjdGVkIiwiYXBwbGllZFN0eWxlIiwiaW5wdXRBdHRyaWJ1dGVzIiwidHlwZSIsImRpc3BsYXkiLCJzdXBwb3J0TXVsdGlwbGUiLCJvbkNoYW5nZSIsImF1dG9Db21wbGV0ZSIsImRpdlByb3BzIiwiY3JlYXRlRWxlbWVudCIsImFyaWEtZGlzYWJsZWQiLCJDb21wb25lbnQiLCJwcm9wVHlwZXMiLCJzdHJpbmciLCJvbmVPZlR5cGUiLCJmdW5jIiwiYm9vbCIsIm51bWJlciIsImRlZmF1bHRQcm9wcyIsIkluZmluaXR5Iiwic2hvdWxkSWdub3JlRmlsZSIsIkRFRkFVTFRfRklMRVNfVE9fSUdOT1JFIiwidHJhdmVyc2VEaXJlY3RvcnkiLCJlbnRyeSIsInJlYWRlciIsImNyZWF0ZVJlYWRlciIsIlByb21pc2UiLCJyZXNvbHZlRGlyZWN0b3J5IiwicmVhZEVudHJpZXMiLCJiYXRjaEVudHJpZXMiLCJpdGVyYXRpb25BdHRlbXB0cyIsImFsbCIsIm1hcCIsImJhdGNoRW50cnkiLCJpc0RpcmVjdG9yeSIsInJlc29sdmUiLCJlcnJvckhhbmRsZXIiLCJwYWNrYWdlRmlsZSIsInNpemUiLCJmdWxsUGF0aCIsImdldEZpbGUiLCJoYW5kbGVGaWxlUHJvbWlzZXMiLCJwcm9taXNlcyIsImdldERhdGFUcmFuc2ZlckZpbGVzIiwiZGF0YVRyYW5zZmVyRmlsZXMiLCJmb2xkZXJQcm9taXNlcyIsImZpbGVQcm9taXNlcyIsInNsaWNlIiwiaXRlbXMiLCJsaXN0SXRlbSIsIndlYmtpdEdldEFzRW50cnkiLCJmbGF0dGVuIiwiYXJyYXkiLCJyZWR1Y2UiLCJhQXJyYXkiLCJiQXJyYXkiLCJjb25jYXQiLCJmaWxlRW50cmllcyIsImZpbGVFbnRyeSIsImV2ZW50IiwiZHJhZ0Ryb3BGaWxlTGlzdCIsImlucHV0RmllbGRGaWxlTGlzdCIsImRhdGFUcmFuc2Zlckl0ZW1zTGlzdCIsImR0Iiwia2luZCIsIl9hdHRyQWNjZXB0MiIsImV2ZXJ5IiwiaXNJZSIsInVzZXJBZ2VudCIsImlzRWRnZSIsIm5hdmlnYXRvciIsIl9hdHRyQWNjZXB0IiwidCIsImUiLCJyIiwiaWQiLCJsb2FkZWQiLCJzcGxpdCIsInJlcGxhY2UiLCJ2Iiwic29tZSIsInRyaW0iLCJjaGFyQXQiLCJ0b0xvd2VyQ2FzZSIsImVuZHNXaXRoIiwidGVzdCIsInZlcnNpb24iLCJfX2UiLCJNYXRoIiwiRnVuY3Rpb24iLCJfX2ciLCJ1IiwiZiIsImEiLCJ5IiwiRyIsImgiLCJQIiwiUyIsIngiLCJGIiwiQiIsImNvcmUiLCJXIiwic2V0RGVzYyIsImdldFByb3RvIiwiaXNFbnVtIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJnZXREZXNjIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwic2V0RGVzY3MiLCJnZXRLZXlzIiwiZ2V0TmFtZXMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0U3ltYm9scyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImVhY2giLCJyYW5kb20iLCJ0b1N0cmluZyIsIlN5bWJvbCIsIlN0cmluZyIsImluc3BlY3RTb3VyY2UiLCJqb2luIiwiY2VpbCIsImZsb29yIiwiaXNOYU4iLCJtaW4iLCJib3JkZXJTdHlsZSIsImJvcmRlckNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwib3BhY2l0eSIsIndpZHRoIiwiaGVpZ2h0IiwiYm9yZGVyV2lkdGgiLCJib3JkZXJSYWRpdXMiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsZ0JBQUFDLFVBQUEsZ0JBQUFDLFFBQ0FB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QSxJQUFBZSxTQUFBelEsUUFBQXdQLEdBQUE1TyxNQUEyRVYsR0FBQSwyQ0FBQUEsRUFBQSxtRUFBQUEsRUFBQSw2RkFBQUksSUFBQTRRLEVBQUEsUUFBQVAsT1A2OUI1b0osU0FBVXhSLEVBQVFELEVBQVNTLEdBRWpDLFlBR0FZLFFBQU9DLGVBQWV0QixFQUFTLGNBQzdCNEQsT0FBTyxJQUVUNUQsRUFBUW9DLFNRcCtCTjBKLFVBQ0UrSCxZQUFhLFFBQ2JDLFlBQWEsT0FDYkMsZ0JBQWlCLFFBRW5CdE0sVUFDRXVNLFFBQVMsSUFFWG5JLFFBQ0VnSSxZQUFhLFFBQ2JDLFlBQWEsT0FDYkMsZ0JBQWlCLFFBRW5CM1IsU0FDRTZSLE1BQU8sSUFDUEMsT0FBUSxJQUNSQyxZQUFhLEVBQ2JMLFlBQWEsT0FDYkQsWUFBYSxTQUNiTyxhQUFjLElSdytCbEJuVSxFQUFPRCxRQUFVQSxFQUFpQiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpLCByZXF1aXJlKFwicHJvcC10eXBlc1wiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJyZWFjdFwiLCBcInByb3AtdHlwZXNcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiRHJvcHpvbmVcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSwgcmVxdWlyZShcInByb3AtdHlwZXNcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkRyb3B6b25lXCJdID0gZmFjdG9yeShyb290W1wiUmVhY3RcIl0sIHJvb3RbXCJQcm9wVHlwZXNcIl0pO1xufSkodGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fKSB7XG5yZXR1cm4gXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpLCByZXF1aXJlKFwicHJvcC10eXBlc1wiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJyZWFjdFwiLCBcInByb3AtdHlwZXNcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiRHJvcHpvbmVcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSwgcmVxdWlyZShcInByb3AtdHlwZXNcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkRyb3B6b25lXCJdID0gZmFjdG9yeShyb290W1wiUmVhY3RcIl0sIHJvb3RbXCJQcm9wVHlwZXNcIl0pO1xufSkodGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9IdG1sNUZpbGVTZWxlY3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfc3R5bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0eWxlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyogZXNsaW50IHByZWZlci10ZW1wbGF0ZTogMCAqL1xuXG52YXIgRHJvcHpvbmUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoRHJvcHpvbmUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERyb3B6b25lKHByb3BzLCBjb250ZXh0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERyb3B6b25lKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChEcm9wem9uZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERyb3B6b25lKSkuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuXG4gICAgX3RoaXMucmVuZGVyQ2hpbGRyZW4gPSBmdW5jdGlvbiAoY2hpbGRyZW4sIGlzRHJhZ0FjdGl2ZSwgaXNEcmFnQWNjZXB0LCBpc0RyYWdSZWplY3QpIHtcbiAgICAgIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuKF9leHRlbmRzKHt9LCBfdGhpcy5zdGF0ZSwge1xuICAgICAgICAgIGlzRHJhZ0FjdGl2ZTogaXNEcmFnQWN0aXZlLFxuICAgICAgICAgIGlzRHJhZ0FjY2VwdDogaXNEcmFnQWNjZXB0LFxuICAgICAgICAgIGlzRHJhZ1JlamVjdDogaXNEcmFnUmVqZWN0XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9O1xuXG4gICAgX3RoaXMuY29tcG9zZUhhbmRsZXJzID0gX3RoaXMuY29tcG9zZUhhbmRsZXJzLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uQ2xpY2sgPSBfdGhpcy5vbkNsaWNrLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uRG9jdW1lbnREcm9wID0gX3RoaXMub25Eb2N1bWVudERyb3AuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25EcmFnRW50ZXIgPSBfdGhpcy5vbkRyYWdFbnRlci5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbkRyYWdMZWF2ZSA9IF90aGlzLm9uRHJhZ0xlYXZlLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uRHJhZ092ZXIgPSBfdGhpcy5vbkRyYWdPdmVyLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uRHJhZ1N0YXJ0ID0gX3RoaXMub25EcmFnU3RhcnQuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25Ecm9wID0gX3RoaXMub25Ecm9wLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uRmlsZURpYWxvZ0NhbmNlbCA9IF90aGlzLm9uRmlsZURpYWxvZ0NhbmNlbC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbklucHV0RWxlbWVudENsaWNrID0gX3RoaXMub25JbnB1dEVsZW1lbnRDbGljay5iaW5kKF90aGlzKTtcblxuICAgIF90aGlzLnNldFJlZiA9IF90aGlzLnNldFJlZi5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5zZXRSZWZzID0gX3RoaXMuc2V0UmVmcy5iaW5kKF90aGlzKTtcblxuICAgIF90aGlzLmlzRmlsZURpYWxvZ0FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBkcmFnZ2VkRmlsZXM6IFtdLFxuICAgICAgYWNjZXB0ZWRGaWxlczogW10sXG4gICAgICByZWplY3RlZEZpbGVzOiBbXVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKERyb3B6b25lLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgcHJldmVudERyb3BPbkRvY3VtZW50ID0gdGhpcy5wcm9wcy5wcmV2ZW50RHJvcE9uRG9jdW1lbnQ7XG5cbiAgICAgIHRoaXMuZHJhZ1RhcmdldHMgPSBbXTtcblxuICAgICAgaWYgKHByZXZlbnREcm9wT25Eb2N1bWVudCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIF91dGlscy5vbkRvY3VtZW50RHJhZ092ZXIsIGZhbHNlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMub25Eb2N1bWVudERyb3AsIGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZmlsZUlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uSW5wdXRFbGVtZW50Q2xpY2ssIGZhbHNlKTtcbiAgICAgIC8vIFRyaWVkIGltcGxlbWVudGluZyBhZGRFdmVudExpc3RlbmVyLCBidXQgZGlkbid0IHdvcmsgb3V0XG4gICAgICBkb2N1bWVudC5ib2R5Lm9uZm9jdXMgPSB0aGlzLm9uRmlsZURpYWxvZ0NhbmNlbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdmFyIHByZXZlbnREcm9wT25Eb2N1bWVudCA9IHRoaXMucHJvcHMucHJldmVudERyb3BPbkRvY3VtZW50O1xuXG4gICAgICBpZiAocHJldmVudERyb3BPbkRvY3VtZW50KSB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgX3V0aWxzLm9uRG9jdW1lbnREcmFnT3Zlcik7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCB0aGlzLm9uRG9jdW1lbnREcm9wKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmZpbGVJbnB1dEVsICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5maWxlSW5wdXRFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25JbnB1dEVsZW1lbnRDbGljaywgZmFsc2UpO1xuICAgICAgfVxuICAgICAgLy8gQ2FuIGJlIHJlcGxhY2VkIHdpdGggcmVtb3ZlRXZlbnRMaXN0ZW5lciwgaWYgYWRkRXZlbnRMaXN0ZW5lciB3b3Jrc1xuICAgICAgaWYgKGRvY3VtZW50ICE9IG51bGwpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5vbmZvY3VzID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb3NlSGFuZGxlcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb3NlSGFuZGxlcnMoaGFuZGxlcikge1xuICAgICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBoYW5kbGVyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uRG9jdW1lbnREcm9wJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Eb2N1bWVudERyb3AoZXZ0KSB7XG4gICAgICBpZiAodGhpcy5ub2RlICYmIHRoaXMubm9kZS5jb250YWlucyhldnQudGFyZ2V0KSkge1xuICAgICAgICAvLyBpZiB3ZSBpbnRlcmNlcHRlZCBhbiBldmVudCBmb3Igb3VyIGluc3RhbmNlLCBsZXQgaXQgcHJvcGFnYXRlIGRvd24gdG8gdGhlIGluc3RhbmNlJ3Mgb25Ecm9wIGhhbmRsZXJcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmRyYWdUYXJnZXRzID0gW107XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25EcmFnU3RhcnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRyYWdTdGFydChldnQpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uRHJhZ1N0YXJ0KSB7XG4gICAgICAgIHRoaXMucHJvcHMub25EcmFnU3RhcnQuY2FsbCh0aGlzLCBldnQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uRHJhZ0VudGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25EcmFnRW50ZXIoZXZ0KSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgLy8gQ291bnQgdGhlIGRyb3B6b25lIGFuZCBhbnkgY2hpbGRyZW4gdGhhdCBhcmUgZW50ZXJlZC5cbiAgICAgIGlmICh0aGlzLmRyYWdUYXJnZXRzLmluZGV4T2YoZXZ0LnRhcmdldCkgPT09IC0xKSB7XG4gICAgICAgIHRoaXMuZHJhZ1RhcmdldHMucHVzaChldnQudGFyZ2V0KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZpbGVzID0gKDAsIF91dGlscy5nZXREYXRhVHJhbnNmZXJJdGVtcykoZXZ0KTtcbiAgICAgIGlmIChmaWxlcyAmJiBmaWxlcy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNEcmFnQWN0aXZlOiB0cnVlLCAvLyBEbyBub3QgcmVseSBvbiBmaWxlcyBmb3IgdGhlIGRyYWcgc3RhdGUuIEl0IGRvZXNuJ3Qgd29yayBpbiBTYWZhcmkuXG4gICAgICAgICAgZHJhZ2dlZEZpbGVzOiBmaWxlc1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25EcmFnRW50ZXIpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uRHJhZ0VudGVyLmNhbGwodGhpcywgZXZ0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uRHJhZ092ZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRyYWdPdmVyKGV2dCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoZSBmaWxlIGRpYWxvZyBvbiBDaHJvbWUgYWxsb3dzIHVzZXJzIHRvIGRyYWcgZmlsZXMgZnJvbSB0aGUgZGlhbG9nIG9udG9cbiAgICAgICAgLy8gdGhlIGRyb3B6b25lLCBjYXVzaW5nIHRoZSBicm93c2VyIHRoZSBjcmFzaCB3aGVuIHRoZSBmaWxlIGRpYWxvZyBpcyBjbG9zZWQuXG4gICAgICAgIC8vIEEgZHJvcCBlZmZlY3Qgb2YgJ25vbmUnIHByZXZlbnRzIHRoZSBmaWxlIGZyb20gYmVpbmcgZHJvcHBlZFxuICAgICAgICBldnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSB0aGlzLmlzRmlsZURpYWxvZ0FjdGl2ZSA/ICdub25lJyA6ICdjb3B5JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIGNvbnRpbnVlIHJlZ2FyZGxlc3Mgb2YgZXJyb3JcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucHJvcHMub25EcmFnT3Zlcikge1xuICAgICAgICB0aGlzLnByb3BzLm9uRHJhZ092ZXIuY2FsbCh0aGlzLCBldnQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uRHJhZ0xlYXZlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25EcmFnTGVhdmUoZXZ0KSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIC8vIE9ubHkgZGVhY3RpdmF0ZSBvbmNlIHRoZSBkcm9wem9uZSBhbmQgYWxsIGNoaWxkcmVuIGhhdmUgYmVlbiBsZWZ0LlxuICAgICAgdGhpcy5kcmFnVGFyZ2V0cyA9IHRoaXMuZHJhZ1RhcmdldHMuZmlsdGVyKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICByZXR1cm4gZWwgIT09IGV2dC50YXJnZXQgJiYgX3RoaXMyLm5vZGUuY29udGFpbnMoZWwpO1xuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5kcmFnVGFyZ2V0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYXIgZHJhZ2dpbmcgZmlsZXMgc3RhdGVcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0RyYWdBY3RpdmU6IGZhbHNlLFxuICAgICAgICBkcmFnZ2VkRmlsZXM6IFtdXG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMucHJvcHMub25EcmFnTGVhdmUpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkRyYWdMZWF2ZS5jYWxsKHRoaXMsIGV2dCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25Ecm9wJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Ecm9wKGV2dCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIG9uRHJvcCA9IF9wcm9wcy5vbkRyb3AsXG4gICAgICAgICAgb25Ecm9wQWNjZXB0ZWQgPSBfcHJvcHMub25Ecm9wQWNjZXB0ZWQsXG4gICAgICAgICAgb25Ecm9wUmVqZWN0ZWQgPSBfcHJvcHMub25Ecm9wUmVqZWN0ZWQsXG4gICAgICAgICAgbXVsdGlwbGUgPSBfcHJvcHMubXVsdGlwbGUsXG4gICAgICAgICAgZGlzYWJsZVByZXZpZXcgPSBfcHJvcHMuZGlzYWJsZVByZXZpZXcsXG4gICAgICAgICAgYWNjZXB0ID0gX3Byb3BzLmFjY2VwdDtcblxuICAgICAgLy8gU3RvcCBkZWZhdWx0IGJyb3dzZXIgYmVoYXZpb3JcblxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIC8vIFJlc2V0IHRoZSBjb3VudGVyIGFsb25nIHdpdGggdGhlIGRyYWcgb24gYSBkcm9wLlxuICAgICAgdGhpcy5kcmFnVGFyZ2V0cyA9IFtdO1xuICAgICAgdGhpcy5pc0ZpbGVEaWFsb2dBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgLy8gQ2xlYXIgZmlsZXMgdmFsdWVcbiAgICAgIHRoaXMuZHJhZ2dlZEZpbGVzID0gbnVsbDtcblxuICAgICAgLy8gUmVzZXQgZHJhZyBzdGF0ZVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRHJhZ0FjdGl2ZTogZmFsc2UsXG4gICAgICAgIGRyYWdnZWRGaWxlczogW11cbiAgICAgIH0pO1xuXG4gICAgICAoMCwgX0h0bWw1RmlsZVNlbGVjdG9yLmdldERyb3BwZWRPclNlbGVjdGVkRmlsZXMpKGV2dCkudGhlbihmdW5jdGlvbiAoZmlsZUxpc3QpIHtcbiAgICAgICAgdmFyIGFjY2VwdGVkRmlsZXMgPSBbXTtcbiAgICAgICAgdmFyIHJlamVjdGVkRmlsZXMgPSBbXTtcbiAgICAgICAgZmlsZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZmlsZVdyYXApIHtcbiAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVXcmFwLmZpbGVPYmplY3Q7XG4gICAgICAgICAgaWYgKCFkaXNhYmxlUHJldmlldykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZmlsZS5wcmV2aWV3ID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICBpZiAoZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2VuZXJhdGUgcHJldmlldyBmb3IgZmlsZScsIGZpbGUsIGVycik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCgwLCBfdXRpbHMuZmlsZUFjY2VwdGVkKShmaWxlLCBhY2NlcHQpICYmICgwLCBfdXRpbHMuZmlsZU1hdGNoU2l6ZSkoZmlsZSwgX3RoaXMzLnByb3BzLm1heFNpemUsIF90aGlzMy5wcm9wcy5taW5TaXplKSkge1xuICAgICAgICAgICAgYWNjZXB0ZWRGaWxlcy5wdXNoKGZpbGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3RlZEZpbGVzLnB1c2goZmlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIW11bHRpcGxlKSB7XG4gICAgICAgICAgLy8gaWYgbm90IGluIG11bHRpIG1vZGUgYWRkIGFueSBleHRyYSBhY2NlcHRlZCBmaWxlcyB0byByZWplY3RlZC5cbiAgICAgICAgICAvLyBUaGlzIHdpbGwgYWxsb3cgZW5kIHVzZXJzIHRvIGVhc2lseSBpZ25vcmUgYSBtdWx0aSBmaWxlIGRyb3AgaW4gXCJzaW5nbGVcIiBtb2RlLlxuICAgICAgICAgIHJlamVjdGVkRmlsZXMucHVzaC5hcHBseShyZWplY3RlZEZpbGVzLCBfdG9Db25zdW1hYmxlQXJyYXkoYWNjZXB0ZWRGaWxlcy5zcGxpY2UoMSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvbkRyb3ApIHtcbiAgICAgICAgICBvbkRyb3AuY2FsbChfdGhpczMsIGFjY2VwdGVkRmlsZXMsIHJlamVjdGVkRmlsZXMsIGV2dCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVqZWN0ZWRGaWxlcy5sZW5ndGggPiAwICYmIG9uRHJvcFJlamVjdGVkKSB7XG4gICAgICAgICAgb25Ecm9wUmVqZWN0ZWQuY2FsbChfdGhpczMsIHJlamVjdGVkRmlsZXMsIGV2dCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWNjZXB0ZWRGaWxlcy5sZW5ndGggPiAwICYmIG9uRHJvcEFjY2VwdGVkKSB7XG4gICAgICAgICAgb25Ecm9wQWNjZXB0ZWQuY2FsbChfdGhpczMsIGFjY2VwdGVkRmlsZXMsIGV2dCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uQ2xpY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKGV2dCkge1xuICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIG9uQ2xpY2sgPSBfcHJvcHMyLm9uQ2xpY2ssXG4gICAgICAgICAgZGlzYWJsZUNsaWNrID0gX3Byb3BzMi5kaXNhYmxlQ2xpY2s7XG5cbiAgICAgIGlmICghZGlzYWJsZUNsaWNrKSB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBpZiAob25DbGljaykge1xuICAgICAgICAgIG9uQ2xpY2suY2FsbCh0aGlzLCBldnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW4gSUUxMS9FZGdlIHRoZSBmaWxlLWJyb3dzZXIgZGlhbG9nIGlzIGJsb2NraW5nLCBlbnN1cmUgdGhpcyBpcyBiZWhpbmQgc2V0VGltZW91dFxuICAgICAgICAvLyB0aGlzIGlzIHNvIHJlYWN0IGNhbiBoYW5kbGUgc3RhdGUgY2hhbmdlcyBpbiB0aGUgb25DbGljayBwcm9wIGFib3ZlIGFib3ZlXG4gICAgICAgIC8vIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LWRyb3B6b25lL3JlYWN0LWRyb3B6b25lL2lzc3Vlcy80NTBcbiAgICAgICAgaWYgKCgwLCBfdXRpbHMuaXNJZU9yRWRnZSkoKSkge1xuICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5vcGVuLmJpbmQodGhpcyksIDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25JbnB1dEVsZW1lbnRDbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uSW5wdXRFbGVtZW50Q2xpY2soZXZ0KSB7XG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBpZiAodGhpcy5wcm9wcy5pbnB1dFByb3BzICYmIHRoaXMucHJvcHMuaW5wdXRQcm9wcy5vbkNsaWNrKSB7XG4gICAgICAgIHRoaXMucHJvcHMuaW5wdXRQcm9wcy5vbkNsaWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25GaWxlRGlhbG9nQ2FuY2VsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25GaWxlRGlhbG9nQ2FuY2VsKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIC8vIHRpbWVvdXQgd2lsbCBub3QgcmVjb2duaXplIGNvbnRleHQgb2YgdGhpcyBtZXRob2RcbiAgICAgIHZhciBvbkZpbGVEaWFsb2dDYW5jZWwgPSB0aGlzLnByb3BzLm9uRmlsZURpYWxvZ0NhbmNlbDtcbiAgICAgIC8vIGV4ZWN1dGUgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgRmlsZURpYWxvZyBpcyBvcGVuZWQgaW4gdGhlIGJyb3dzZXJcblxuICAgICAgaWYgKHRoaXMuaXNGaWxlRGlhbG9nQWN0aXZlKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChfdGhpczQuZmlsZUlucHV0RWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gUmV0dXJucyBhbiBvYmplY3QgYXMgRmlsZUxpc3RcbiAgICAgICAgICAgIHZhciBmaWxlcyA9IF90aGlzNC5maWxlSW5wdXRFbC5maWxlcztcblxuXG4gICAgICAgICAgICBpZiAoIWZpbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBfdGhpczQuaXNGaWxlRGlhbG9nQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHR5cGVvZiBvbkZpbGVEaWFsb2dDYW5jZWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG9uRmlsZURpYWxvZ0NhbmNlbCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgMzAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRSZWYnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRSZWYocmVmKSB7XG4gICAgICB0aGlzLm5vZGUgPSByZWY7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0UmVmcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFJlZnMocmVmKSB7XG4gICAgICB0aGlzLmZpbGVJbnB1dEVsID0gcmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPcGVuIHN5c3RlbSBmaWxlIHVwbG9hZCBkaWFsb2cuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29wZW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgdGhpcy5pc0ZpbGVEaWFsb2dBY3RpdmUgPSB0cnVlO1xuICAgICAgdGhpcy5maWxlSW5wdXRFbC52YWx1ZSA9IG51bGw7XG4gICAgICB0aGlzLmZpbGVJbnB1dEVsLmNsaWNrKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGFjY2VwdCA9IF9wcm9wczMuYWNjZXB0LFxuICAgICAgICAgIGFjY2VwdENsYXNzTmFtZSA9IF9wcm9wczMuYWNjZXB0Q2xhc3NOYW1lLFxuICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZSA9IF9wcm9wczMuYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzMy5jaGlsZHJlbixcbiAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wczMuZGlzYWJsZWQsXG4gICAgICAgICAgZGlzYWJsZWRDbGFzc05hbWUgPSBfcHJvcHMzLmRpc2FibGVkQ2xhc3NOYW1lLFxuICAgICAgICAgIGlucHV0UHJvcHMgPSBfcHJvcHMzLmlucHV0UHJvcHMsXG4gICAgICAgICAgbXVsdGlwbGUgPSBfcHJvcHMzLm11bHRpcGxlLFxuICAgICAgICAgIG5hbWUgPSBfcHJvcHMzLm5hbWUsXG4gICAgICAgICAgcmVqZWN0Q2xhc3NOYW1lID0gX3Byb3BzMy5yZWplY3RDbGFzc05hbWUsXG4gICAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcHJvcHMzLCBbJ2FjY2VwdCcsICdhY2NlcHRDbGFzc05hbWUnLCAnYWN0aXZlQ2xhc3NOYW1lJywgJ2NoaWxkcmVuJywgJ2Rpc2FibGVkJywgJ2Rpc2FibGVkQ2xhc3NOYW1lJywgJ2lucHV0UHJvcHMnLCAnbXVsdGlwbGUnLCAnbmFtZScsICdyZWplY3RDbGFzc05hbWUnXSk7XG5cbiAgICAgIHZhciBhY2NlcHRTdHlsZSA9IHJlc3QuYWNjZXB0U3R5bGUsXG4gICAgICAgICAgYWN0aXZlU3R5bGUgPSByZXN0LmFjdGl2ZVN0eWxlLFxuICAgICAgICAgIF9yZXN0JGNsYXNzTmFtZSA9IHJlc3QuY2xhc3NOYW1lLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF9yZXN0JGNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcmVzdCRjbGFzc05hbWUsXG4gICAgICAgICAgZGlzYWJsZWRTdHlsZSA9IHJlc3QuZGlzYWJsZWRTdHlsZSxcbiAgICAgICAgICByZWplY3RTdHlsZSA9IHJlc3QucmVqZWN0U3R5bGUsXG4gICAgICAgICAgc3R5bGUgPSByZXN0LnN0eWxlLFxuICAgICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHJlc3QsIFsnYWNjZXB0U3R5bGUnLCAnYWN0aXZlU3R5bGUnLCAnY2xhc3NOYW1lJywgJ2Rpc2FibGVkU3R5bGUnLCAncmVqZWN0U3R5bGUnLCAnc3R5bGUnXSk7XG5cbiAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGlzRHJhZ0FjdGl2ZSA9IF9zdGF0ZS5pc0RyYWdBY3RpdmUsXG4gICAgICAgICAgZHJhZ2dlZEZpbGVzID0gX3N0YXRlLmRyYWdnZWRGaWxlcztcblxuICAgICAgdmFyIGZpbGVzQ291bnQgPSBkcmFnZ2VkRmlsZXMubGVuZ3RoO1xuICAgICAgdmFyIGlzTXVsdGlwbGVBbGxvd2VkID0gbXVsdGlwbGUgfHwgZmlsZXNDb3VudCA8PSAxO1xuICAgICAgdmFyIGlzRHJhZ0FjY2VwdCA9IGZpbGVzQ291bnQgPiAwICYmICgwLCBfdXRpbHMuYWxsRmlsZXNBY2NlcHRlZCkoZHJhZ2dlZEZpbGVzLCB0aGlzLnByb3BzLmFjY2VwdCk7XG4gICAgICB2YXIgaXNEcmFnUmVqZWN0ID0gZmlsZXNDb3VudCA+IDAgJiYgKCFpc0RyYWdBY2NlcHQgfHwgIWlzTXVsdGlwbGVBbGxvd2VkKTtcbiAgICAgIHZhciBub1N0eWxlcyA9ICFjbGFzc05hbWUgJiYgIXN0eWxlICYmICFhY3RpdmVTdHlsZSAmJiAhYWNjZXB0U3R5bGUgJiYgIXJlamVjdFN0eWxlICYmICFkaXNhYmxlZFN0eWxlO1xuXG4gICAgICBpZiAoaXNEcmFnQWN0aXZlICYmIGFjdGl2ZUNsYXNzTmFtZSkge1xuICAgICAgICBjbGFzc05hbWUgKz0gJyAnICsgYWN0aXZlQ2xhc3NOYW1lO1xuICAgICAgfVxuICAgICAgaWYgKGlzRHJhZ0FjY2VwdCAmJiBhY2NlcHRDbGFzc05hbWUpIHtcbiAgICAgICAgY2xhc3NOYW1lICs9ICcgJyArIGFjY2VwdENsYXNzTmFtZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0RyYWdSZWplY3QgJiYgcmVqZWN0Q2xhc3NOYW1lKSB7XG4gICAgICAgIGNsYXNzTmFtZSArPSAnICcgKyByZWplY3RDbGFzc05hbWU7XG4gICAgICB9XG4gICAgICBpZiAoZGlzYWJsZWQgJiYgZGlzYWJsZWRDbGFzc05hbWUpIHtcbiAgICAgICAgY2xhc3NOYW1lICs9ICcgJyArIGRpc2FibGVkQ2xhc3NOYW1lO1xuICAgICAgfVxuXG4gICAgICBpZiAobm9TdHlsZXMpIHtcbiAgICAgICAgc3R5bGUgPSBfc3R5bGVzMi5kZWZhdWx0LmRlZmF1bHQ7XG4gICAgICAgIGFjdGl2ZVN0eWxlID0gX3N0eWxlczIuZGVmYXVsdC5hY3RpdmU7XG4gICAgICAgIGFjY2VwdFN0eWxlID0gc3R5bGUuYWN0aXZlO1xuICAgICAgICByZWplY3RTdHlsZSA9IF9zdHlsZXMyLmRlZmF1bHQucmVqZWN0ZWQ7XG4gICAgICAgIGRpc2FibGVkU3R5bGUgPSBfc3R5bGVzMi5kZWZhdWx0LmRpc2FibGVkO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXBwbGllZFN0eWxlID0gX2V4dGVuZHMoe30sIHN0eWxlKTtcbiAgICAgIGlmIChhY3RpdmVTdHlsZSAmJiBpc0RyYWdBY3RpdmUpIHtcbiAgICAgICAgYXBwbGllZFN0eWxlID0gX2V4dGVuZHMoe30sIHN0eWxlLCBhY3RpdmVTdHlsZSk7XG4gICAgICB9XG4gICAgICBpZiAoYWNjZXB0U3R5bGUgJiYgaXNEcmFnQWNjZXB0KSB7XG4gICAgICAgIGFwcGxpZWRTdHlsZSA9IF9leHRlbmRzKHt9LCBhcHBsaWVkU3R5bGUsIGFjY2VwdFN0eWxlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZWplY3RTdHlsZSAmJiBpc0RyYWdSZWplY3QpIHtcbiAgICAgICAgYXBwbGllZFN0eWxlID0gX2V4dGVuZHMoe30sIGFwcGxpZWRTdHlsZSwgcmVqZWN0U3R5bGUpO1xuICAgICAgfVxuICAgICAgaWYgKGRpc2FibGVkU3R5bGUgJiYgZGlzYWJsZWQpIHtcbiAgICAgICAgYXBwbGllZFN0eWxlID0gX2V4dGVuZHMoe30sIHN0eWxlLCBkaXNhYmxlZFN0eWxlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGlucHV0QXR0cmlidXRlcyA9IHtcbiAgICAgICAgYWNjZXB0OiBhY2NlcHQsXG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgICBzdHlsZTogeyBkaXNwbGF5OiAnbm9uZScgfSxcbiAgICAgICAgbXVsdGlwbGU6IF91dGlscy5zdXBwb3J0TXVsdGlwbGUgJiYgbXVsdGlwbGUsXG4gICAgICAgIHJlZjogdGhpcy5zZXRSZWZzLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkRyb3AsXG4gICAgICAgIGF1dG9Db21wbGV0ZTogJ29mZidcbiAgICAgIH07XG5cbiAgICAgIGlmIChuYW1lICYmIG5hbWUubGVuZ3RoKSB7XG4gICAgICAgIGlucHV0QXR0cmlidXRlcy5uYW1lID0gbmFtZTtcbiAgICAgIH1cblxuICAgICAgLy8gRGVzdHJ1Y3R1cmUgY3VzdG9tIHByb3BzIGF3YXkgZnJvbSBwcm9wcyB1c2VkIGZvciB0aGUgZGl2IGVsZW1lbnRcblxuICAgICAgdmFyIGFjY2VwdGVkRmlsZXMgPSBwcm9wcy5hY2NlcHRlZEZpbGVzLFxuICAgICAgICAgIHByZXZlbnREcm9wT25Eb2N1bWVudCA9IHByb3BzLnByZXZlbnREcm9wT25Eb2N1bWVudCxcbiAgICAgICAgICBkaXNhYmxlUHJldmlldyA9IHByb3BzLmRpc2FibGVQcmV2aWV3LFxuICAgICAgICAgIGRpc2FibGVDbGljayA9IHByb3BzLmRpc2FibGVDbGljayxcbiAgICAgICAgICBvbkRyb3BBY2NlcHRlZCA9IHByb3BzLm9uRHJvcEFjY2VwdGVkLFxuICAgICAgICAgIG9uRHJvcFJlamVjdGVkID0gcHJvcHMub25Ecm9wUmVqZWN0ZWQsXG4gICAgICAgICAgb25GaWxlRGlhbG9nQ2FuY2VsID0gcHJvcHMub25GaWxlRGlhbG9nQ2FuY2VsLFxuICAgICAgICAgIG1heFNpemUgPSBwcm9wcy5tYXhTaXplLFxuICAgICAgICAgIG1pblNpemUgPSBwcm9wcy5taW5TaXplLFxuICAgICAgICAgIGRpdlByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbJ2FjY2VwdGVkRmlsZXMnLCAncHJldmVudERyb3BPbkRvY3VtZW50JywgJ2Rpc2FibGVQcmV2aWV3JywgJ2Rpc2FibGVDbGljaycsICdvbkRyb3BBY2NlcHRlZCcsICdvbkRyb3BSZWplY3RlZCcsICdvbkZpbGVEaWFsb2dDYW5jZWwnLCAnbWF4U2l6ZScsICdtaW5TaXplJ10pO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICBfZXh0ZW5kcyh7XG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgICAgc3R5bGU6IGFwcGxpZWRTdHlsZVxuICAgICAgICB9LCBkaXZQcm9wcyAvKiBleHBhbmQgdXNlciBwcm92aWRlZCBwcm9wcyBmaXJzdCBzbyBldmVudCBoYW5kbGVycyBhcmUgbmV2ZXIgb3ZlcnJpZGRlbiAqLywge1xuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY29tcG9zZUhhbmRsZXJzKHRoaXMub25DbGljayksXG4gICAgICAgICAgb25EcmFnU3RhcnQ6IHRoaXMuY29tcG9zZUhhbmRsZXJzKHRoaXMub25EcmFnU3RhcnQpLFxuICAgICAgICAgIG9uRHJhZ0VudGVyOiB0aGlzLmNvbXBvc2VIYW5kbGVycyh0aGlzLm9uRHJhZ0VudGVyKSxcbiAgICAgICAgICBvbkRyYWdPdmVyOiB0aGlzLmNvbXBvc2VIYW5kbGVycyh0aGlzLm9uRHJhZ092ZXIpLFxuICAgICAgICAgIG9uRHJhZ0xlYXZlOiB0aGlzLmNvbXBvc2VIYW5kbGVycyh0aGlzLm9uRHJhZ0xlYXZlKSxcbiAgICAgICAgICBvbkRyb3A6IHRoaXMuY29tcG9zZUhhbmRsZXJzKHRoaXMub25Ecm9wKSxcbiAgICAgICAgICByZWY6IHRoaXMuc2V0UmVmLFxuICAgICAgICAgICdhcmlhLWRpc2FibGVkJzogZGlzYWJsZWRcbiAgICAgICAgfSksXG4gICAgICAgIHRoaXMucmVuZGVyQ2hpbGRyZW4oY2hpbGRyZW4sIGlzRHJhZ0FjdGl2ZSwgaXNEcmFnQWNjZXB0LCBpc0RyYWdSZWplY3QpLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCBfZXh0ZW5kcyh7fSwgaW5wdXRQcm9wcyAvKiBleHBhbmQgdXNlciBwcm92aWRlZCBpbnB1dFByb3BzIGZpcnN0IHNvIGlucHV0QXR0cmlidXRlcyBvdmVycmlkZSB0aGVtICovLCBpbnB1dEF0dHJpYnV0ZXMpKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRHJvcHpvbmU7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBEcm9wem9uZTtcblxuXG5Ecm9wem9uZS5wcm9wVHlwZXMgPSB7XG4gIC8qKlxuICAgKiBBbGxvdyBzcGVjaWZpYyB0eXBlcyBvZiBmaWxlcy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9va29uZXQvYXR0ci1hY2NlcHQgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqIEtlZXAgaW4gbWluZCB0aGF0IG1pbWUgdHlwZSBkZXRlcm1pbmF0aW9uIGlzIG5vdCByZWxpYWJsZSBhY3Jvc3MgcGxhdGZvcm1zLiBDU1YgZmlsZXMsXG4gICAqIGZvciBleGFtcGxlLCBhcmUgcmVwb3J0ZWQgYXMgdGV4dC9wbGFpbiB1bmRlciBtYWNPUyBidXQgYXMgYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsIHVuZGVyXG4gICAqIFdpbmRvd3MuIEluIHNvbWUgY2FzZXMgdGhlcmUgbWlnaHQgbm90IGJlIGEgbWltZSB0eXBlIHNldCBhdCBhbGwuXG4gICAqIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LWRyb3B6b25lL3JlYWN0LWRyb3B6b25lL2lzc3Vlcy8yNzZcbiAgICovXG4gIGFjY2VwdDogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIENvbnRlbnRzIG9mIHRoZSBkcm9wem9uZVxuICAgKi9cbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsIF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuY10pLFxuXG4gIC8qKlxuICAgKiBEaXNhbGxvdyBjbGlja2luZyBvbiB0aGUgZHJvcHpvbmUgY29udGFpbmVyIHRvIG9wZW4gZmlsZSBkaWFsb2dcbiAgICovXG4gIGRpc2FibGVDbGljazogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuXG4gIC8qKlxuICAgKiBFbmFibGUvZGlzYWJsZSB0aGUgZHJvcHpvbmUgZW50aXJlbHlcbiAgICovXG4gIGRpc2FibGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG5cbiAgLyoqXG4gICAqIEVuYWJsZS9kaXNhYmxlIHByZXZpZXcgZ2VuZXJhdGlvblxuICAgKi9cbiAgZGlzYWJsZVByZXZpZXc6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcblxuICAvKipcbiAgICogSWYgZmFsc2UsIGFsbG93IGRyb3BwZWQgaXRlbXMgdG8gdGFrZSBvdmVyIHRoZSBjdXJyZW50IGJyb3dzZXIgd2luZG93XG4gICAqL1xuICBwcmV2ZW50RHJvcE9uRG9jdW1lbnQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcblxuICAvKipcbiAgICogUGFzcyBhZGRpdGlvbmFsIGF0dHJpYnV0ZXMgdG8gdGhlIGA8aW5wdXQgdHlwZT1cImZpbGVcIi8+YCB0YWdcbiAgICovXG4gIGlucHV0UHJvcHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBBbGxvdyBkcm9wcGluZyBtdWx0aXBsZSBmaWxlc1xuICAgKi9cbiAgbXVsdGlwbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcblxuICAvKipcbiAgICogYG5hbWVgIGF0dHJpYnV0ZSBmb3IgdGhlIGlucHV0IHRhZ1xuICAgKi9cbiAgbmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIE1heGltdW0gZmlsZSBzaXplIChpbiBieXRlcylcbiAgICovXG4gIG1heFNpemU6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuXG4gIC8qKlxuICAgKiBNaW5pbXVtIGZpbGUgc2l6ZSAoaW4gYnl0ZXMpXG4gICAqL1xuICBtaW5TaXplOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcblxuICAvKipcbiAgICogY2xhc3NOYW1lXG4gICAqL1xuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBjbGFzc05hbWUgdG8gYXBwbHkgd2hlbiBkcmFnIGlzIGFjdGl2ZVxuICAgKi9cbiAgYWN0aXZlQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcblxuICAvKipcbiAgICogY2xhc3NOYW1lIHRvIGFwcGx5IHdoZW4gZHJvcCB3aWxsIGJlIGFjY2VwdGVkXG4gICAqL1xuICBhY2NlcHRDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBjbGFzc05hbWUgdG8gYXBwbHkgd2hlbiBkcm9wIHdpbGwgYmUgcmVqZWN0ZWRcbiAgICovXG4gIHJlamVjdENsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIGNsYXNzTmFtZSB0byBhcHBseSB3aGVuIGRyb3B6b25lIGlzIGRpc2FibGVkXG4gICAqL1xuICBkaXNhYmxlZENsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIENTUyBzdHlsZXMgdG8gYXBwbHlcbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcblxuICAvKipcbiAgICogQ1NTIHN0eWxlcyB0byBhcHBseSB3aGVuIGRyYWcgaXMgYWN0aXZlXG4gICAqL1xuICBhY3RpdmVTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG5cbiAgLyoqXG4gICAqIENTUyBzdHlsZXMgdG8gYXBwbHkgd2hlbiBkcm9wIHdpbGwgYmUgYWNjZXB0ZWRcbiAgICovXG4gIGFjY2VwdFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcblxuICAvKipcbiAgICogQ1NTIHN0eWxlcyB0byBhcHBseSB3aGVuIGRyb3Agd2lsbCBiZSByZWplY3RlZFxuICAgKi9cbiAgcmVqZWN0U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBDU1Mgc3R5bGVzIHRvIGFwcGx5IHdoZW4gZHJvcHpvbmUgaXMgZGlzYWJsZWRcbiAgICovXG4gIGRpc2FibGVkU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBvbkNsaWNrIGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAqL1xuICBvbkNsaWNrOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG5cbiAgLyoqXG4gICAqIG9uRHJvcCBjYWxsYmFja1xuICAgKi9cbiAgb25Ecm9wOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG5cbiAgLyoqXG4gICAqIG9uRHJvcEFjY2VwdGVkIGNhbGxiYWNrXG4gICAqL1xuICBvbkRyb3BBY2NlcHRlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuXG4gIC8qKlxuICAgKiBvbkRyb3BSZWplY3RlZCBjYWxsYmFja1xuICAgKi9cbiAgb25Ecm9wUmVqZWN0ZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcblxuICAvKipcbiAgICogb25EcmFnU3RhcnQgY2FsbGJhY2tcbiAgICovXG4gIG9uRHJhZ1N0YXJ0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG5cbiAgLyoqXG4gICAqIG9uRHJhZ0VudGVyIGNhbGxiYWNrXG4gICAqL1xuICBvbkRyYWdFbnRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuXG4gIC8qKlxuICAgKiBvbkRyYWdPdmVyIGNhbGxiYWNrXG4gICAqL1xuICBvbkRyYWdPdmVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG5cbiAgLyoqXG4gICAqIG9uRHJhZ0xlYXZlIGNhbGxiYWNrXG4gICAqL1xuICBvbkRyYWdMZWF2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuXG4gIC8qKlxuICAgKiBQcm92aWRlIGEgY2FsbGJhY2sgb24gY2xpY2tpbmcgdGhlIGNhbmNlbCBidXR0b24gb2YgdGhlIGZpbGUgZGlhbG9nXG4gICAqL1xuICBvbkZpbGVEaWFsb2dDYW5jZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuY1xufTtcblxuRHJvcHpvbmUuZGVmYXVsdFByb3BzID0ge1xuICBwcmV2ZW50RHJvcE9uRG9jdW1lbnQ6IHRydWUsXG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgZGlzYWJsZVByZXZpZXc6IGZhbHNlLFxuICBkaXNhYmxlQ2xpY2s6IGZhbHNlLFxuICBtdWx0aXBsZTogdHJ1ZSxcbiAgbWF4U2l6ZTogSW5maW5pdHksXG4gIG1pblNpemU6IDBcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX187XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fO1xuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZ2V0RGF0YVRyYW5zZmVyRmlsZXMgPSBnZXREYXRhVHJhbnNmZXJGaWxlcztcbmV4cG9ydHMuZ2V0RHJvcHBlZE9yU2VsZWN0ZWRGaWxlcyA9IGdldERyb3BwZWRPclNlbGVjdGVkRmlsZXM7XG4vKipcbiogSHRtbDUgRmlsZSBTZWxlY3RvclxuKiBodHRwczovL2dpdGh1Yi5jb20vcXVhcmtsZW1vdGlvbi9odG1sNS1maWxlLXNlbGVjdG9yXG4qIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuKiBMSUNFTlNFLnR4dCBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBERUZBVUxUX0ZJTEVTX1RPX0lHTk9SRSA9IFsnLkRTX1N0b3JlJywgLy8gT1NYIGluZGV4aW5nIGZpbGVcbidUaHVtYnMuZGInIC8vIFdpbmRvd3MgaW5kZXhpbmcgZmlsZVxuXTtcblxuZnVuY3Rpb24gc2hvdWxkSWdub3JlRmlsZShmaWxlKSB7XG4gIHJldHVybiBERUZBVUxUX0ZJTEVTX1RPX0lHTk9SRS5pbmRleE9mKGZpbGUubmFtZSkgPj0gMDtcbn1cblxuZnVuY3Rpb24gdHJhdmVyc2VEaXJlY3RvcnkoZW50cnkpIHtcbiAgdmFyIHJlYWRlciA9IGVudHJ5LmNyZWF0ZVJlYWRlcigpO1xuICAvLyBSZXNvbHZlZCB3aGVuIHRoZSBlbnRpcmUgZGlyZWN0b3J5IGlzIHRyYXZlcnNlZFxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmVEaXJlY3RvcnkpIHtcbiAgICB2YXIgaXRlcmF0aW9uQXR0ZW1wdHMgPSBbXTtcbiAgICB2YXIgZXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gZXJyb3JIYW5kbGVyKCkge307XG4gICAgZnVuY3Rpb24gcmVhZEVudHJpZXMoKSB7XG4gICAgICAvLyBBY2NvcmRpbmcgdG8gdGhlIEZpbGVTeXN0ZW0gQVBJIHNwZWMsIHJlYWRFbnRyaWVzKCkgbXVzdCBiZSBjYWxsZWQgdW50aWxcbiAgICAgIC8vIGl0IGNhbGxzIHRoZSBjYWxsYmFjayB3aXRoIGFuIGVtcHR5IGFycmF5LlxuICAgICAgcmVhZGVyLnJlYWRFbnRyaWVzKGZ1bmN0aW9uIChiYXRjaEVudHJpZXMpIHtcbiAgICAgICAgaWYgKCFiYXRjaEVudHJpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gRG9uZSBpdGVyYXRpbmcgdGhpcyBwYXJ0aWN1bGFyIGRpcmVjdG9yeVxuICAgICAgICAgIHJlc29sdmVEaXJlY3RvcnkoUHJvbWlzZS5hbGwoaXRlcmF0aW9uQXR0ZW1wdHMpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBBZGQgYSBsaXN0IG9mIHByb21pc2VzIGZvciBlYWNoIGRpcmVjdG9yeSBlbnRyeS4gIElmIHRoZSBlbnRyeSBpcyBpdHNlbGZcbiAgICAgICAgICAvLyBhIGRpcmVjdG9yeSwgdGhlbiB0aGF0IHByb21pc2Ugd29uJ3QgcmVzb2x2ZSB1bnRpbCBpdCBpcyBmdWxseSB0cmF2ZXJzZWQuXG4gICAgICAgICAgaXRlcmF0aW9uQXR0ZW1wdHMucHVzaChQcm9taXNlLmFsbChiYXRjaEVudHJpZXMubWFwKGZ1bmN0aW9uIChiYXRjaEVudHJ5KSB7XG4gICAgICAgICAgICBpZiAoYmF0Y2hFbnRyeS5pc0RpcmVjdG9yeSkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJhdmVyc2VEaXJlY3RvcnkoYmF0Y2hFbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGJhdGNoRW50cnkpO1xuICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgLy8gVHJ5IGNhbGxpbmcgcmVhZEVudHJpZXMoKSBhZ2FpbiBmb3IgdGhlIHNhbWUgZGlyLCBhY2NvcmRpbmcgdG8gc3BlY1xuICAgICAgICAgIHJlYWRFbnRyaWVzKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIGVycm9ySGFuZGxlcik7XG4gICAgfVxuICAgIC8vIGluaXRpYWwgY2FsbCB0byByZWN1cnNpdmUgZW50cnkgcmVhZGVyIGZ1bmN0aW9uXG4gICAgcmVhZEVudHJpZXMoKTtcbiAgfSk7XG59XG5cbi8vIHBhY2thZ2UgdGhlIGZpbGUgaW4gYW4gb2JqZWN0IHRoYXQgaW5jbHVkZXMgdGhlIGZ1bGxQYXRoIGZyb20gdGhlIGZpbGUgZW50cnlcbi8vIHRoYXQgd291bGQgb3RoZXJ3aXNlIGJlIGxvc3RcbmZ1bmN0aW9uIHBhY2thZ2VGaWxlKGZpbGUsIGVudHJ5KSB7XG4gIHJldHVybiB7XG4gICAgZmlsZU9iamVjdDogZmlsZSxcbiAgICB0eXBlOiBmaWxlLnR5cGUgPyBmaWxlLnR5cGUgOiAnJyxcbiAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgc2l6ZTogZmlsZS5zaXplLFxuICAgIGZ1bGxQYXRoOiBlbnRyeSA/IGVudHJ5LmZ1bGxQYXRoIDogZmlsZS5uYW1lXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldEZpbGUoZW50cnkpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgZW50cnkuZmlsZShmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgcmVzb2x2ZShwYWNrYWdlRmlsZShmaWxlLCBlbnRyeSkpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRmlsZVByb21pc2VzKHByb21pc2VzLCBmaWxlTGlzdCkge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKGZpbGVzKSB7XG4gICAgZmlsZXMuZm9yRWFjaChmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgaWYgKCFzaG91bGRJZ25vcmVGaWxlKGZpbGUpKSB7XG4gICAgICAgIGZpbGVMaXN0LnB1c2goZmlsZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZpbGVMaXN0O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0RGF0YVRyYW5zZmVyRmlsZXMoZGF0YVRyYW5zZmVyKSB7XG4gIHZhciBkYXRhVHJhbnNmZXJGaWxlcyA9IFtdO1xuICB2YXIgZm9sZGVyUHJvbWlzZXMgPSBbXTtcbiAgdmFyIGZpbGVQcm9taXNlcyA9IFtdO1tdLnNsaWNlLmNhbGwoZGF0YVRyYW5zZmVyLml0ZW1zKS5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0SXRlbSkge1xuICAgIGlmICh0eXBlb2YgbGlzdEl0ZW0ud2Via2l0R2V0QXNFbnRyeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIGVudHJ5ID0gbGlzdEl0ZW0ud2Via2l0R2V0QXNFbnRyeSgpO1xuXG4gICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgaWYgKGVudHJ5LmlzRGlyZWN0b3J5KSB7XG4gICAgICAgICAgZm9sZGVyUHJvbWlzZXMucHVzaCh0cmF2ZXJzZURpcmVjdG9yeShlbnRyeSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZpbGVQcm9taXNlcy5wdXNoKGdldEZpbGUoZW50cnkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhVHJhbnNmZXJGaWxlcy5wdXNoKGxpc3RJdGVtKTtcbiAgICB9XG4gIH0pO1xuICBpZiAoZm9sZGVyUHJvbWlzZXMubGVuZ3RoKSB7XG4gICAgdmFyIGZsYXR0ZW4gPSBmdW5jdGlvbiBmbGF0dGVuKGFycmF5KSB7XG4gICAgICByZXR1cm4gYXJyYXkucmVkdWNlKGZ1bmN0aW9uIChhQXJyYXksIGJBcnJheSkge1xuICAgICAgICByZXR1cm4gYUFycmF5LmNvbmNhdChBcnJheS5pc0FycmF5KGJBcnJheSkgPyBmbGF0dGVuKGJBcnJheSkgOiBiQXJyYXkpO1xuICAgICAgfSwgW10pO1xuICAgIH07XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGZvbGRlclByb21pc2VzKS50aGVuKGZ1bmN0aW9uIChmaWxlRW50cmllcykge1xuICAgICAgdmFyIGZsYXR0ZW5lZEVudHJpZXMgPSBmbGF0dGVuKGZpbGVFbnRyaWVzKTtcbiAgICAgIC8vIGNvbGxlY3QgYXN5bmMgcHJvbWlzZXMgdG8gY29udmVydCBlYWNoIGZpbGVFbnRyeSBpbnRvIGEgRmlsZSBvYmplY3RcbiAgICAgIGZsYXR0ZW5lZEVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoZmlsZUVudHJ5KSB7XG4gICAgICAgIGZpbGVQcm9taXNlcy5wdXNoKGdldEZpbGUoZmlsZUVudHJ5KSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBoYW5kbGVGaWxlUHJvbWlzZXMoZmlsZVByb21pc2VzLCBkYXRhVHJhbnNmZXJGaWxlcyk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoZmlsZVByb21pc2VzLmxlbmd0aCkge1xuICAgIHJldHVybiBoYW5kbGVGaWxlUHJvbWlzZXMoZmlsZVByb21pc2VzLCBkYXRhVHJhbnNmZXJGaWxlcyk7XG4gIH1cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkYXRhVHJhbnNmZXJGaWxlcyk7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgY2FsbGVkIGZyb20gYm90aCB0aGUgb25Ecm9wIGV2ZW50IGZyb20geW91ciBkcmFnL2Ryb3BcbiAqIGRyb3B6b25lIGFzIHdlbGwgYXMgZnJvbSB0aGUgSFRNTDUgZmlsZSBzZWxlY3RvciBpbnB1dCBmaWVsZCBvbkNoYW5nZSBldmVudFxuICogaGFuZGxlci4gIFBhc3MgdGhlIGV2ZW50IG9iamVjdCBmcm9tIHRoZSB0cmlnZ2VyZWQgZXZlbnQgaW50byB0aGlzIGZ1bmN0aW9uLlxuICogU3VwcG9ydHMgbWl4IG9mIGZpbGVzIGFuZCBmb2xkZXJzIGRyb3BwZWQgdmlhIGRyYWcvZHJvcC5cbiAqXG4gKiBSZXR1cm5zOiBhbiBhcnJheSBvZiBGaWxlIG9iamVjdHMsIHRoYXQgaW5jbHVkZXMgYWxsIGZpbGVzIHdpdGhpbiBmb2xkZXJzXG4gKiAgIGFuZCBzdWJmb2xkZXJzIG9mIHRoZSBkcm9wcGVkL3NlbGVjdGVkIGl0ZW1zLlxuICovXG5mdW5jdGlvbiBnZXREcm9wcGVkT3JTZWxlY3RlZEZpbGVzKGV2ZW50KSB7XG4gIHZhciBkYXRhVHJhbnNmZXIgPSBldmVudC5kYXRhVHJhbnNmZXI7XG4gIGlmIChkYXRhVHJhbnNmZXIgJiYgZGF0YVRyYW5zZmVyLml0ZW1zKSB7XG4gICAgcmV0dXJuIGdldERhdGFUcmFuc2ZlckZpbGVzKGRhdGFUcmFuc2ZlcikudGhlbihmdW5jdGlvbiAoZmlsZUxpc3QpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmlsZUxpc3QpO1xuICAgIH0pO1xuICB9XG4gIHZhciBmaWxlcyA9IFtdO1xuICB2YXIgZHJhZ0Ryb3BGaWxlTGlzdCA9IGRhdGFUcmFuc2ZlciAmJiBkYXRhVHJhbnNmZXIuZmlsZXM7XG4gIHZhciBpbnB1dEZpZWxkRmlsZUxpc3QgPSBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LmZpbGVzO1xuICB2YXIgZmlsZUxpc3QgPSBkcmFnRHJvcEZpbGVMaXN0IHx8IGlucHV0RmllbGRGaWxlTGlzdCB8fCBbXTtcbiAgLy8gY29udmVydCB0aGUgRmlsZUxpc3QgdG8gYSBzaW1wbGUgYXJyYXkgb2YgRmlsZSBvYmplY3RzXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZUxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBmaWxlcy5wdXNoKHBhY2thZ2VGaWxlKGZpbGVMaXN0W2ldKSk7XG4gIH1cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmaWxlcyk7XG59XG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5zdXBwb3J0TXVsdGlwbGUgPSB1bmRlZmluZWQ7XG5leHBvcnRzLmdldERhdGFUcmFuc2Zlckl0ZW1zID0gZ2V0RGF0YVRyYW5zZmVySXRlbXM7XG5leHBvcnRzLmZpbGVBY2NlcHRlZCA9IGZpbGVBY2NlcHRlZDtcbmV4cG9ydHMuZmlsZU1hdGNoU2l6ZSA9IGZpbGVNYXRjaFNpemU7XG5leHBvcnRzLmFsbEZpbGVzQWNjZXB0ZWQgPSBhbGxGaWxlc0FjY2VwdGVkO1xuZXhwb3J0cy5vbkRvY3VtZW50RHJhZ092ZXIgPSBvbkRvY3VtZW50RHJhZ092ZXI7XG5leHBvcnRzLmlzSWVPckVkZ2UgPSBpc0llT3JFZGdlO1xuXG52YXIgX2F0dHJBY2NlcHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2F0dHJBY2NlcHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXR0ckFjY2VwdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBzdXBwb3J0TXVsdGlwbGUgPSBleHBvcnRzLnN1cHBvcnRNdWx0aXBsZSA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCA/ICdtdWx0aXBsZScgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKSA6IHRydWU7XG5cbmZ1bmN0aW9uIGdldERhdGFUcmFuc2Zlckl0ZW1zKGV2ZW50KSB7XG4gIHZhciBkYXRhVHJhbnNmZXJJdGVtc0xpc3QgPSBbXTtcbiAgaWYgKGV2ZW50LmRhdGFUcmFuc2Zlcikge1xuICAgIHZhciBkdCA9IGV2ZW50LmRhdGFUcmFuc2ZlcjtcbiAgICBpZiAoZHQuZmlsZXMgJiYgZHQuZmlsZXMubGVuZ3RoKSB7XG4gICAgICBkYXRhVHJhbnNmZXJJdGVtc0xpc3QgPSBkdC5maWxlcztcbiAgICB9IGVsc2UgaWYgKGR0Lml0ZW1zICYmIGR0Lml0ZW1zLmxlbmd0aCkge1xuICAgICAgLy8gRHVyaW5nIHRoZSBkcmFnIGV2ZW4gdGhlIGRhdGFUcmFuc2Zlci5maWxlcyBpcyBudWxsXG4gICAgICAvLyBidXQgQ2hyb21lIGltcGxlbWVudHMgc29tZSBkcmFnIHN0b3JlLCB3aGljaCBpcyBhY2Nlc2libGUgdmlhIGRhdGFUcmFuc2Zlci5pdGVtc1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkdC5pdGVtcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoZHQuaXRlbXNbaV0ua2luZCA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgZGF0YVRyYW5zZmVySXRlbXNMaXN0LnB1c2goZHQuaXRlbXNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldCAmJiBldmVudC50YXJnZXQuZmlsZXMpIHtcbiAgICBkYXRhVHJhbnNmZXJJdGVtc0xpc3QgPSBldmVudC50YXJnZXQuZmlsZXM7XG4gIH1cbiAgLy8gQ29udmVydCBmcm9tIERhdGFUcmFuc2Zlckl0ZW1zTGlzdCB0byB0aGUgbmF0aXZlIEFycmF5XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkYXRhVHJhbnNmZXJJdGVtc0xpc3QpO1xufVxuXG4vLyBGaXJlZm94IHZlcnNpb25zIHByaW9yIHRvIDUzIHJldHVybiBhIGJvZ3VzIE1JTUUgdHlwZSBmb3IgZXZlcnkgZmlsZSBkcmFnLCBzbyBkcmFnb3ZlcnMgd2l0aFxuLy8gdGhhdCBNSU1FIHR5cGUgd2lsbCBhbHdheXMgYmUgYWNjZXB0ZWRcbmZ1bmN0aW9uIGZpbGVBY2NlcHRlZChmaWxlLCBhY2NlcHQpIHtcbiAgcmV0dXJuIGZpbGUudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL3gtbW96LWZpbGUnIHx8ICgwLCBfYXR0ckFjY2VwdDIuZGVmYXVsdCkoZmlsZSwgYWNjZXB0KTtcbn1cblxuZnVuY3Rpb24gZmlsZU1hdGNoU2l6ZShmaWxlLCBtYXhTaXplLCBtaW5TaXplKSB7XG4gIHJldHVybiBmaWxlLnNpemUgPD0gbWF4U2l6ZSAmJiBmaWxlLnNpemUgPj0gbWluU2l6ZTtcbn1cblxuZnVuY3Rpb24gYWxsRmlsZXNBY2NlcHRlZChmaWxlcywgYWNjZXB0KSB7XG4gIHJldHVybiBmaWxlcy5ldmVyeShmdW5jdGlvbiAoZmlsZSkge1xuICAgIHJldHVybiBmaWxlQWNjZXB0ZWQoZmlsZSwgYWNjZXB0KTtcbiAgfSk7XG59XG5cbi8vIGFsbG93IHRoZSBlbnRpcmUgZG9jdW1lbnQgdG8gYmUgYSBkcmFnIHRhcmdldFxuZnVuY3Rpb24gb25Eb2N1bWVudERyYWdPdmVyKGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbn1cblxuZnVuY3Rpb24gaXNJZSh1c2VyQWdlbnQpIHtcbiAgcmV0dXJuIHVzZXJBZ2VudC5pbmRleE9mKCdNU0lFJykgIT09IC0xIHx8IHVzZXJBZ2VudC5pbmRleE9mKCdUcmlkZW50LycpICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gaXNFZGdlKHVzZXJBZ2VudCkge1xuICByZXR1cm4gdXNlckFnZW50LmluZGV4T2YoJ0VkZ2UvJykgIT09IC0xO1xufVxuXG5mdW5jdGlvbiBpc0llT3JFZGdlKCkge1xuICB2YXIgdXNlckFnZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcblxuICByZXR1cm4gaXNJZSh1c2VyQWdlbnQpIHx8IGlzRWRnZSh1c2VyQWdlbnQpO1xufVxuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihlKXtpZihyW2VdKXJldHVybiByW2VdLmV4cG9ydHM7dmFyIG89cltlXT17ZXhwb3J0czp7fSxpZDplLGxvYWRlZDohMX07cmV0dXJuIHRbZV0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsbiksby5sb2FkZWQ9ITAsby5leHBvcnRzfXZhciByPXt9O3JldHVybiBuLm09dCxuLmM9cixuLnA9XCJcIixuKDApfShbZnVuY3Rpb24odCxuLHIpe1widXNlIHN0cmljdFwiO24uX19lc01vZHVsZT0hMCxyKDgpLHIoOSksbltcImRlZmF1bHRcIl09ZnVuY3Rpb24odCxuKXtpZih0JiZuKXt2YXIgcj1mdW5jdGlvbigpe3ZhciByPUFycmF5LmlzQXJyYXkobik/bjpuLnNwbGl0KFwiLFwiKSxlPXQubmFtZXx8XCJcIixvPXQudHlwZXx8XCJcIixpPW8ucmVwbGFjZSgvXFwvLiokLyxcIlwiKTtyZXR1cm57djpyLnNvbWUoZnVuY3Rpb24odCl7dmFyIG49dC50cmltKCk7cmV0dXJuXCIuXCI9PT1uLmNoYXJBdCgwKT9lLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgobi50b0xvd2VyQ2FzZSgpKTovXFwvXFwqJC8udGVzdChuKT9pPT09bi5yZXBsYWNlKC9cXC8uKiQvLFwiXCIpOm89PT1ufSl9fSgpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiByKXJldHVybiByLnZ9cmV0dXJuITB9LHQuZXhwb3J0cz1uW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxuKXt2YXIgcj10LmV4cG9ydHM9e3ZlcnNpb246XCIxLjIuMlwifTtcIm51bWJlclwiPT10eXBlb2YgX19lJiYoX19lPXIpfSxmdW5jdGlvbih0LG4pe3ZhciByPXQuZXhwb3J0cz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcIm51bWJlclwiPT10eXBlb2YgX19nJiYoX19nPXIpfSxmdW5jdGlvbih0LG4scil7dmFyIGU9cigyKSxvPXIoMSksaT1yKDQpLHU9cigxOSksYz1cInByb3RvdHlwZVwiLGY9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShuLGFyZ3VtZW50cyl9fSxzPWZ1bmN0aW9uKHQsbixyKXt2YXIgYSxwLGwseSxkPXQmcy5HLGg9dCZzLlAsdj1kP2U6dCZzLlM/ZVtuXXx8KGVbbl09e30pOihlW25dfHx7fSlbY10seD1kP286b1tuXXx8KG9bbl09e30pO2QmJihyPW4pO2ZvcihhIGluIHIpcD0hKHQmcy5GKSYmdiYmYSBpbiB2LGw9KHA/djpyKVthXSx5PXQmcy5CJiZwP2YobCxlKTpoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBsP2YoRnVuY3Rpb24uY2FsbCxsKTpsLHYmJiFwJiZ1KHYsYSxsKSx4W2FdIT1sJiZpKHgsYSx5KSxoJiYoKHhbY118fCh4W2NdPXt9KSlbYV09bCl9O2UuY29yZT1vLHMuRj0xLHMuRz0yLHMuUz00LHMuUD04LHMuQj0xNixzLlc9MzIsdC5leHBvcnRzPXN9LGZ1bmN0aW9uKHQsbixyKXt2YXIgZT1yKDUpLG89cigxOCk7dC5leHBvcnRzPXIoMjIpP2Z1bmN0aW9uKHQsbixyKXtyZXR1cm4gZS5zZXREZXNjKHQsbixvKDEscikpfTpmdW5jdGlvbih0LG4scil7cmV0dXJuIHRbbl09cix0fX0sZnVuY3Rpb24odCxuKXt2YXIgcj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6ci5jcmVhdGUsZ2V0UHJvdG86ci5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpyLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOnIuZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6ci5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6ci5rZXlzLGdldE5hbWVzOnIuZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOnIuZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LGZ1bmN0aW9uKHQsbil7dmFyIHI9MCxlPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwiU3ltYm9sKFwiLmNvbmNhdCh2b2lkIDA9PT10P1wiXCI6dCxcIilfXCIsKCsrcitlKS50b1N0cmluZygzNikpfX0sZnVuY3Rpb24odCxuLHIpe3ZhciBlPXIoMjApKFwid2tzXCIpLG89cigyKS5TeW1ib2w7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfHwoZVt0XT1vJiZvW3RdfHwob3x8cig2KSkoXCJTeW1ib2wuXCIrdCkpfX0sZnVuY3Rpb24odCxuLHIpe3IoMjYpLHQuZXhwb3J0cz1yKDEpLkFycmF5LnNvbWV9LGZ1bmN0aW9uKHQsbixyKXtyKDI1KSx0LmV4cG9ydHM9cigxKS5TdHJpbmcuZW5kc1dpdGh9LGZ1bmN0aW9uKHQsbil7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGEgZnVuY3Rpb24hXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxuKXt2YXIgcj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIuY2FsbCh0KS5zbGljZSg4LC0xKX19LGZ1bmN0aW9uKHQsbixyKXt2YXIgZT1yKDEwKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxuLHIpe2lmKGUodCksdm9pZCAwPT09bilyZXR1cm4gdDtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gdC5jYWxsKG4scil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixlKXtyZXR1cm4gdC5jYWxsKG4scixlKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLGUsbyl7cmV0dXJuIHQuY2FsbChuLHIsZSxvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkobixhcmd1bWVudHMpfX19LGZ1bmN0aW9uKHQsbil7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09dCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIrdCk7cmV0dXJuIHR9fSxmdW5jdGlvbih0LG4scil7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBuPS8uLzt0cnl7XCIvLi9cIlt0XShuKX1jYXRjaChlKXt0cnl7cmV0dXJuIG5bcig3KShcIm1hdGNoXCIpXT0hMSwhXCIvLi9cIlt0XShuKX1jYXRjaChvKXt9fXJldHVybiEwfX0sZnVuY3Rpb24odCxuKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiEhdCgpfWNhdGNoKG4pe3JldHVybiEwfX19LGZ1bmN0aW9uKHQsbil7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0P251bGwhPT10OlwiZnVuY3Rpb25cIj09dHlwZW9mIHR9fSxmdW5jdGlvbih0LG4scil7dmFyIGU9cigxNiksbz1yKDExKSxpPXIoNykoXCJtYXRjaFwiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIG47cmV0dXJuIGUodCkmJih2b2lkIDAhPT0obj10W2ldKT8hIW46XCJSZWdFeHBcIj09byh0KSl9fSxmdW5jdGlvbih0LG4pe3QuZXhwb3J0cz1mdW5jdGlvbih0LG4pe3JldHVybntlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTpufX19LGZ1bmN0aW9uKHQsbixyKXt2YXIgZT1yKDIpLG89cig0KSxpPXIoNikoXCJzcmNcIiksdT1cInRvU3RyaW5nXCIsYz1GdW5jdGlvblt1XSxmPShcIlwiK2MpLnNwbGl0KHUpO3IoMSkuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gYy5jYWxsKHQpfSwodC5leHBvcnRzPWZ1bmN0aW9uKHQsbixyLHUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHImJihvKHIsaSx0W25dP1wiXCIrdFtuXTpmLmpvaW4oU3RyaW5nKG4pKSksXCJuYW1lXCJpbiByfHwoci5uYW1lPW4pKSx0PT09ZT90W25dPXI6KHV8fGRlbGV0ZSB0W25dLG8odCxuLHIpKX0pKEZ1bmN0aW9uLnByb3RvdHlwZSx1LGZ1bmN0aW9uKCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcyYmdGhpc1tpXXx8Yy5jYWxsKHRoaXMpfSl9LGZ1bmN0aW9uKHQsbixyKXt2YXIgZT1yKDIpLG89XCJfX2NvcmUtanNfc2hhcmVkX19cIixpPWVbb118fChlW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlbdF18fChpW3RdPXt9KX19LGZ1bmN0aW9uKHQsbixyKXt2YXIgZT1yKDE3KSxvPXIoMTMpO3QuZXhwb3J0cz1mdW5jdGlvbih0LG4scil7aWYoZShuKSl0aHJvdyBUeXBlRXJyb3IoXCJTdHJpbmcjXCIrcitcIiBkb2Vzbid0IGFjY2VwdCByZWdleCFcIik7cmV0dXJuIFN0cmluZyhvKHQpKX19LGZ1bmN0aW9uKHQsbixyKXt0LmV4cG9ydHM9IXIoMTUpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSxmdW5jdGlvbih0LG4pe3ZhciByPU1hdGguY2VpbCxlPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0PSt0KT8wOih0PjA/ZTpyKSh0KX19LGZ1bmN0aW9uKHQsbixyKXt2YXIgZT1yKDIzKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP28oZSh0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sZnVuY3Rpb24odCxuLHIpe1widXNlIHN0cmljdFwiO3ZhciBlPXIoMyksbz1yKDI0KSxpPXIoMjEpLHU9XCJlbmRzV2l0aFwiLGM9XCJcIlt1XTtlKGUuUCtlLkYqcigxNCkodSksXCJTdHJpbmdcIix7ZW5kc1dpdGg6ZnVuY3Rpb24odCl7dmFyIG49aSh0aGlzLHQsdSkscj1hcmd1bWVudHMsZT1yLmxlbmd0aD4xP3JbMV06dm9pZCAwLGY9byhuLmxlbmd0aCkscz12b2lkIDA9PT1lP2Y6TWF0aC5taW4obyhlKSxmKSxhPVN0cmluZyh0KTtyZXR1cm4gYz9jLmNhbGwobixhLHMpOm4uc2xpY2Uocy1hLmxlbmd0aCxzKT09PWF9fSl9LGZ1bmN0aW9uKHQsbixyKXt2YXIgZT1yKDUpLG89cigzKSxpPXIoMSkuQXJyYXl8fEFycmF5LHU9e30sYz1mdW5jdGlvbih0LG4pe2UuZWFjaC5jYWxsKHQuc3BsaXQoXCIsXCIpLGZ1bmN0aW9uKHQpe3ZvaWQgMD09biYmdCBpbiBpP3VbdF09aVt0XTp0IGluW10mJih1W3RdPXIoMTIpKEZ1bmN0aW9uLmNhbGwsW11bdF0sbikpfSl9O2MoXCJwb3AscmV2ZXJzZSxzaGlmdCxrZXlzLHZhbHVlcyxlbnRyaWVzXCIsMSksYyhcImluZGV4T2YsZXZlcnksc29tZSxmb3JFYWNoLG1hcCxmaWx0ZXIsZmluZCxmaW5kSW5kZXgsaW5jbHVkZXNcIiwzKSxjKFwiam9pbixzbGljZSxjb25jYXQscHVzaCxzcGxpY2UsdW5zaGlmdCxzb3J0LGxhc3RJbmRleE9mLHJlZHVjZSxyZWR1Y2VSaWdodCxjb3B5V2l0aGluLGZpbGxcIiksbyhvLlMsXCJBcnJheVwiLHUpfV0pO1xuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgcmVqZWN0ZWQ6IHtcbiAgICBib3JkZXJTdHlsZTogJ3NvbGlkJyxcbiAgICBib3JkZXJDb2xvcjogJyNjNjYnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyNlZWUnXG4gIH0sXG4gIGRpc2FibGVkOiB7XG4gICAgb3BhY2l0eTogMC41XG4gIH0sXG4gIGFjdGl2ZToge1xuICAgIGJvcmRlclN0eWxlOiAnc29saWQnLFxuICAgIGJvcmRlckNvbG9yOiAnIzZjNicsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnI2VlZSdcbiAgfSxcbiAgZGVmYXVsdDoge1xuICAgIHdpZHRoOiAyMDAsXG4gICAgaGVpZ2h0OiAyMDAsXG4gICAgYm9yZGVyV2lkdGg6IDIsXG4gICAgYm9yZGVyQ29sb3I6ICcjNjY2JyxcbiAgICBib3JkZXJTdHlsZTogJ2Rhc2hlZCcsXG4gICAgYm9yZGVyUmFkaXVzOiA1XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGluZGV4LmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgOTk3MmJjNzI4ZGVhMzkwMjMyNjYiLCIvKiBlc2xpbnQgcHJlZmVyLXRlbXBsYXRlOiAwICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcbmltcG9ydCB7IGdldERyb3BwZWRPclNlbGVjdGVkRmlsZXMgfSBmcm9tICcuL3V0aWxzL0h0bWw1RmlsZVNlbGVjdG9yJ1xuaW1wb3J0IHtcbiAgc3VwcG9ydE11bHRpcGxlLFxuICBmaWxlQWNjZXB0ZWQsXG4gIGFsbEZpbGVzQWNjZXB0ZWQsXG4gIGZpbGVNYXRjaFNpemUsXG4gIG9uRG9jdW1lbnREcmFnT3ZlcixcbiAgZ2V0RGF0YVRyYW5zZmVySXRlbXMsXG4gIGlzSWVPckVkZ2Vcbn0gZnJvbSAnLi91dGlscydcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi91dGlscy9zdHlsZXMnXG5cbmNsYXNzIERyb3B6b25lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpIHtcbiAgICBzdXBlcihwcm9wcywgY29udGV4dClcbiAgICB0aGlzLmNvbXBvc2VIYW5kbGVycyA9IHRoaXMuY29tcG9zZUhhbmRsZXJzLmJpbmQodGhpcylcbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKVxuICAgIHRoaXMub25Eb2N1bWVudERyb3AgPSB0aGlzLm9uRG9jdW1lbnREcm9wLmJpbmQodGhpcylcbiAgICB0aGlzLm9uRHJhZ0VudGVyID0gdGhpcy5vbkRyYWdFbnRlci5iaW5kKHRoaXMpXG4gICAgdGhpcy5vbkRyYWdMZWF2ZSA9IHRoaXMub25EcmFnTGVhdmUuYmluZCh0aGlzKVxuICAgIHRoaXMub25EcmFnT3ZlciA9IHRoaXMub25EcmFnT3Zlci5iaW5kKHRoaXMpXG4gICAgdGhpcy5vbkRyYWdTdGFydCA9IHRoaXMub25EcmFnU3RhcnQuYmluZCh0aGlzKVxuICAgIHRoaXMub25Ecm9wID0gdGhpcy5vbkRyb3AuYmluZCh0aGlzKVxuICAgIHRoaXMub25GaWxlRGlhbG9nQ2FuY2VsID0gdGhpcy5vbkZpbGVEaWFsb2dDYW5jZWwuYmluZCh0aGlzKVxuICAgIHRoaXMub25JbnB1dEVsZW1lbnRDbGljayA9IHRoaXMub25JbnB1dEVsZW1lbnRDbGljay5iaW5kKHRoaXMpXG5cbiAgICB0aGlzLnNldFJlZiA9IHRoaXMuc2V0UmVmLmJpbmQodGhpcylcbiAgICB0aGlzLnNldFJlZnMgPSB0aGlzLnNldFJlZnMuYmluZCh0aGlzKVxuXG4gICAgdGhpcy5pc0ZpbGVEaWFsb2dBY3RpdmUgPSBmYWxzZVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRyYWdnZWRGaWxlczogW10sXG4gICAgICBhY2NlcHRlZEZpbGVzOiBbXSxcbiAgICAgIHJlamVjdGVkRmlsZXM6IFtdXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgeyBwcmV2ZW50RHJvcE9uRG9jdW1lbnQgfSA9IHRoaXMucHJvcHNcbiAgICB0aGlzLmRyYWdUYXJnZXRzID0gW11cblxuICAgIGlmIChwcmV2ZW50RHJvcE9uRG9jdW1lbnQpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgb25Eb2N1bWVudERyYWdPdmVyLCBmYWxzZSlcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCB0aGlzLm9uRG9jdW1lbnREcm9wLCBmYWxzZSlcbiAgICB9XG4gICAgdGhpcy5maWxlSW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25JbnB1dEVsZW1lbnRDbGljaywgZmFsc2UpXG4gICAgLy8gVHJpZWQgaW1wbGVtZW50aW5nIGFkZEV2ZW50TGlzdGVuZXIsIGJ1dCBkaWRuJ3Qgd29yayBvdXRcbiAgICBkb2N1bWVudC5ib2R5Lm9uZm9jdXMgPSB0aGlzLm9uRmlsZURpYWxvZ0NhbmNlbFxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgY29uc3QgeyBwcmV2ZW50RHJvcE9uRG9jdW1lbnQgfSA9IHRoaXMucHJvcHNcbiAgICBpZiAocHJldmVudERyb3BPbkRvY3VtZW50KSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIG9uRG9jdW1lbnREcmFnT3ZlcilcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCB0aGlzLm9uRG9jdW1lbnREcm9wKVxuICAgIH1cbiAgICBpZiAodGhpcy5maWxlSW5wdXRFbCAhPSBudWxsKSB7XG4gICAgICB0aGlzLmZpbGVJbnB1dEVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbklucHV0RWxlbWVudENsaWNrLCBmYWxzZSlcbiAgICB9XG4gICAgLy8gQ2FuIGJlIHJlcGxhY2VkIHdpdGggcmVtb3ZlRXZlbnRMaXN0ZW5lciwgaWYgYWRkRXZlbnRMaXN0ZW5lciB3b3Jrc1xuICAgIGlmIChkb2N1bWVudCAhPSBudWxsKSB7XG4gICAgICBkb2N1bWVudC5ib2R5Lm9uZm9jdXMgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgY29tcG9zZUhhbmRsZXJzKGhhbmRsZXIpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gaGFuZGxlclxuICB9XG5cbiAgb25Eb2N1bWVudERyb3AoZXZ0KSB7XG4gICAgaWYgKHRoaXMubm9kZSAmJiB0aGlzLm5vZGUuY29udGFpbnMoZXZ0LnRhcmdldCkpIHtcbiAgICAgIC8vIGlmIHdlIGludGVyY2VwdGVkIGFuIGV2ZW50IGZvciBvdXIgaW5zdGFuY2UsIGxldCBpdCBwcm9wYWdhdGUgZG93biB0byB0aGUgaW5zdGFuY2UncyBvbkRyb3AgaGFuZGxlclxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgdGhpcy5kcmFnVGFyZ2V0cyA9IFtdXG4gIH1cblxuICBvbkRyYWdTdGFydChldnQpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vbkRyYWdTdGFydCkge1xuICAgICAgdGhpcy5wcm9wcy5vbkRyYWdTdGFydC5jYWxsKHRoaXMsIGV2dClcbiAgICB9XG4gIH1cblxuICBvbkRyYWdFbnRlcihldnQpIHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgLy8gQ291bnQgdGhlIGRyb3B6b25lIGFuZCBhbnkgY2hpbGRyZW4gdGhhdCBhcmUgZW50ZXJlZC5cbiAgICBpZiAodGhpcy5kcmFnVGFyZ2V0cy5pbmRleE9mKGV2dC50YXJnZXQpID09PSAtMSkge1xuICAgICAgdGhpcy5kcmFnVGFyZ2V0cy5wdXNoKGV2dC50YXJnZXQpXG4gICAgfVxuXG4gICAgY29uc3QgZmlsZXMgPSBnZXREYXRhVHJhbnNmZXJJdGVtcyhldnQpXG4gICAgaWYgKGZpbGVzICYmIGZpbGVzLmxlbmd0aCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRHJhZ0FjdGl2ZTogdHJ1ZSwgLy8gRG8gbm90IHJlbHkgb24gZmlsZXMgZm9yIHRoZSBkcmFnIHN0YXRlLiBJdCBkb2Vzbid0IHdvcmsgaW4gU2FmYXJpLlxuICAgICAgICBkcmFnZ2VkRmlsZXM6IGZpbGVzXG4gICAgICB9KVxuICAgICAgaWYgKHRoaXMucHJvcHMub25EcmFnRW50ZXIpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkRyYWdFbnRlci5jYWxsKHRoaXMsIGV2dClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvbkRyYWdPdmVyKGV2dCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgdHJ5IHtcbiAgICAgIC8vIFRoZSBmaWxlIGRpYWxvZyBvbiBDaHJvbWUgYWxsb3dzIHVzZXJzIHRvIGRyYWcgZmlsZXMgZnJvbSB0aGUgZGlhbG9nIG9udG9cbiAgICAgIC8vIHRoZSBkcm9wem9uZSwgY2F1c2luZyB0aGUgYnJvd3NlciB0aGUgY3Jhc2ggd2hlbiB0aGUgZmlsZSBkaWFsb2cgaXMgY2xvc2VkLlxuICAgICAgLy8gQSBkcm9wIGVmZmVjdCBvZiAnbm9uZScgcHJldmVudHMgdGhlIGZpbGUgZnJvbSBiZWluZyBkcm9wcGVkXG4gICAgICBldnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSB0aGlzLmlzRmlsZURpYWxvZ0FjdGl2ZSA/ICdub25lJyA6ICdjb3B5JyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyBjb250aW51ZSByZWdhcmRsZXNzIG9mIGVycm9yXG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMub25EcmFnT3Zlcikge1xuICAgICAgdGhpcy5wcm9wcy5vbkRyYWdPdmVyLmNhbGwodGhpcywgZXZ0KVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIG9uRHJhZ0xlYXZlKGV2dCkge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAvLyBPbmx5IGRlYWN0aXZhdGUgb25jZSB0aGUgZHJvcHpvbmUgYW5kIGFsbCBjaGlsZHJlbiBoYXZlIGJlZW4gbGVmdC5cbiAgICB0aGlzLmRyYWdUYXJnZXRzID0gdGhpcy5kcmFnVGFyZ2V0cy5maWx0ZXIoZWwgPT4gZWwgIT09IGV2dC50YXJnZXQgJiYgdGhpcy5ub2RlLmNvbnRhaW5zKGVsKSlcbiAgICBpZiAodGhpcy5kcmFnVGFyZ2V0cy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBDbGVhciBkcmFnZ2luZyBmaWxlcyBzdGF0ZVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNEcmFnQWN0aXZlOiBmYWxzZSxcbiAgICAgIGRyYWdnZWRGaWxlczogW11cbiAgICB9KVxuXG4gICAgaWYgKHRoaXMucHJvcHMub25EcmFnTGVhdmUpIHtcbiAgICAgIHRoaXMucHJvcHMub25EcmFnTGVhdmUuY2FsbCh0aGlzLCBldnQpXG4gICAgfVxuICB9XG5cbiAgb25Ecm9wKGV2dCkge1xuICAgIGNvbnN0IHsgb25Ecm9wLCBvbkRyb3BBY2NlcHRlZCwgb25Ecm9wUmVqZWN0ZWQsIG11bHRpcGxlLCBkaXNhYmxlUHJldmlldywgYWNjZXB0IH0gPSB0aGlzLnByb3BzXG5cbiAgICAvLyBTdG9wIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAvLyBSZXNldCB0aGUgY291bnRlciBhbG9uZyB3aXRoIHRoZSBkcmFnIG9uIGEgZHJvcC5cbiAgICB0aGlzLmRyYWdUYXJnZXRzID0gW11cbiAgICB0aGlzLmlzRmlsZURpYWxvZ0FjdGl2ZSA9IGZhbHNlXG5cbiAgICAvLyBDbGVhciBmaWxlcyB2YWx1ZVxuICAgIHRoaXMuZHJhZ2dlZEZpbGVzID0gbnVsbFxuXG4gICAgLy8gUmVzZXQgZHJhZyBzdGF0ZVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNEcmFnQWN0aXZlOiBmYWxzZSxcbiAgICAgIGRyYWdnZWRGaWxlczogW11cbiAgICB9KVxuXG4gICAgZ2V0RHJvcHBlZE9yU2VsZWN0ZWRGaWxlcyhldnQpLnRoZW4oZmlsZUxpc3QgPT4ge1xuICAgICAgY29uc3QgYWNjZXB0ZWRGaWxlcyA9IFtdXG4gICAgICBjb25zdCByZWplY3RlZEZpbGVzID0gW11cbiAgICAgIGZpbGVMaXN0LmZvckVhY2goZmlsZVdyYXAgPT4ge1xuICAgICAgICBjb25zdCBmaWxlID0gZmlsZVdyYXAuZmlsZU9iamVjdFxuICAgICAgICBpZiAoIWRpc2FibGVQcmV2aWV3KSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZpbGUucHJldmlldyA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBnZW5lcmF0ZSBwcmV2aWV3IGZvciBmaWxlJywgZmlsZSwgZXJyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgZmlsZUFjY2VwdGVkKGZpbGUsIGFjY2VwdCkgJiZcbiAgICAgICAgICBmaWxlTWF0Y2hTaXplKGZpbGUsIHRoaXMucHJvcHMubWF4U2l6ZSwgdGhpcy5wcm9wcy5taW5TaXplKVxuICAgICAgICApIHtcbiAgICAgICAgICBhY2NlcHRlZEZpbGVzLnB1c2goZmlsZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3RlZEZpbGVzLnB1c2goZmlsZSlcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgaWYgKCFtdWx0aXBsZSkge1xuICAgICAgICAvLyBpZiBub3QgaW4gbXVsdGkgbW9kZSBhZGQgYW55IGV4dHJhIGFjY2VwdGVkIGZpbGVzIHRvIHJlamVjdGVkLlxuICAgICAgICAvLyBUaGlzIHdpbGwgYWxsb3cgZW5kIHVzZXJzIHRvIGVhc2lseSBpZ25vcmUgYSBtdWx0aSBmaWxlIGRyb3AgaW4gXCJzaW5nbGVcIiBtb2RlLlxuICAgICAgICByZWplY3RlZEZpbGVzLnB1c2goLi4uYWNjZXB0ZWRGaWxlcy5zcGxpY2UoMSkpXG4gICAgICB9XG5cbiAgICAgIGlmIChvbkRyb3ApIHtcbiAgICAgICAgb25Ecm9wLmNhbGwodGhpcywgYWNjZXB0ZWRGaWxlcywgcmVqZWN0ZWRGaWxlcywgZXZ0KVxuICAgICAgfVxuXG4gICAgICBpZiAocmVqZWN0ZWRGaWxlcy5sZW5ndGggPiAwICYmIG9uRHJvcFJlamVjdGVkKSB7XG4gICAgICAgIG9uRHJvcFJlamVjdGVkLmNhbGwodGhpcywgcmVqZWN0ZWRGaWxlcywgZXZ0KVxuICAgICAgfVxuXG4gICAgICBpZiAoYWNjZXB0ZWRGaWxlcy5sZW5ndGggPiAwICYmIG9uRHJvcEFjY2VwdGVkKSB7XG4gICAgICAgIG9uRHJvcEFjY2VwdGVkLmNhbGwodGhpcywgYWNjZXB0ZWRGaWxlcywgZXZ0KVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBvbkNsaWNrKGV2dCkge1xuICAgIGNvbnN0IHsgb25DbGljaywgZGlzYWJsZUNsaWNrIH0gPSB0aGlzLnByb3BzXG4gICAgaWYgKCFkaXNhYmxlQ2xpY2spIHtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgICBpZiAob25DbGljaykge1xuICAgICAgICBvbkNsaWNrLmNhbGwodGhpcywgZXZ0KVxuICAgICAgfVxuXG4gICAgICAvLyBpbiBJRTExL0VkZ2UgdGhlIGZpbGUtYnJvd3NlciBkaWFsb2cgaXMgYmxvY2tpbmcsIGVuc3VyZSB0aGlzIGlzIGJlaGluZCBzZXRUaW1lb3V0XG4gICAgICAvLyB0aGlzIGlzIHNvIHJlYWN0IGNhbiBoYW5kbGUgc3RhdGUgY2hhbmdlcyBpbiB0aGUgb25DbGljayBwcm9wIGFib3ZlIGFib3ZlXG4gICAgICAvLyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1kcm9wem9uZS9yZWFjdC1kcm9wem9uZS9pc3N1ZXMvNDUwXG4gICAgICBpZiAoaXNJZU9yRWRnZSgpKSB7XG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5vcGVuLmJpbmQodGhpcyksIDApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9wZW4oKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uSW5wdXRFbGVtZW50Q2xpY2soZXZ0KSB7XG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgaWYgKHRoaXMucHJvcHMuaW5wdXRQcm9wcyAmJiB0aGlzLnByb3BzLmlucHV0UHJvcHMub25DbGljaykge1xuICAgICAgdGhpcy5wcm9wcy5pbnB1dFByb3BzLm9uQ2xpY2soKVxuICAgIH1cbiAgfVxuXG4gIG9uRmlsZURpYWxvZ0NhbmNlbCgpIHtcbiAgICAvLyB0aW1lb3V0IHdpbGwgbm90IHJlY29nbml6ZSBjb250ZXh0IG9mIHRoaXMgbWV0aG9kXG4gICAgY29uc3QgeyBvbkZpbGVEaWFsb2dDYW5jZWwgfSA9IHRoaXMucHJvcHNcbiAgICAvLyBleGVjdXRlIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIEZpbGVEaWFsb2cgaXMgb3BlbmVkIGluIHRoZSBicm93c2VyXG4gICAgaWYgKHRoaXMuaXNGaWxlRGlhbG9nQWN0aXZlKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuZmlsZUlucHV0RWwgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIFJldHVybnMgYW4gb2JqZWN0IGFzIEZpbGVMaXN0XG4gICAgICAgICAgY29uc3QgeyBmaWxlcyB9ID0gdGhpcy5maWxlSW5wdXRFbFxuXG4gICAgICAgICAgaWYgKCFmaWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuaXNGaWxlRGlhbG9nQWN0aXZlID0gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIG9uRmlsZURpYWxvZ0NhbmNlbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9uRmlsZURpYWxvZ0NhbmNlbCgpXG4gICAgICAgIH1cbiAgICAgIH0sIDMwMClcbiAgICB9XG4gIH1cblxuICBzZXRSZWYocmVmKSB7XG4gICAgdGhpcy5ub2RlID0gcmVmXG4gIH1cblxuICBzZXRSZWZzKHJlZikge1xuICAgIHRoaXMuZmlsZUlucHV0RWwgPSByZWZcbiAgfVxuICAvKipcbiAgICogT3BlbiBzeXN0ZW0gZmlsZSB1cGxvYWQgZGlhbG9nLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBvcGVuKCkge1xuICAgIHRoaXMuaXNGaWxlRGlhbG9nQWN0aXZlID0gdHJ1ZVxuICAgIHRoaXMuZmlsZUlucHV0RWwudmFsdWUgPSBudWxsXG4gICAgdGhpcy5maWxlSW5wdXRFbC5jbGljaygpXG4gIH1cblxuICByZW5kZXJDaGlsZHJlbiA9IChjaGlsZHJlbiwgaXNEcmFnQWN0aXZlLCBpc0RyYWdBY2NlcHQsIGlzRHJhZ1JlamVjdCkgPT4ge1xuICAgIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlbih7XG4gICAgICAgIC4uLnRoaXMuc3RhdGUsXG4gICAgICAgIGlzRHJhZ0FjdGl2ZSxcbiAgICAgICAgaXNEcmFnQWNjZXB0LFxuICAgICAgICBpc0RyYWdSZWplY3RcbiAgICAgIH0pXG4gICAgfVxuICAgIHJldHVybiBjaGlsZHJlblxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGFjY2VwdCxcbiAgICAgIGFjY2VwdENsYXNzTmFtZSxcbiAgICAgIGFjdGl2ZUNsYXNzTmFtZSxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgZGlzYWJsZWQsXG4gICAgICBkaXNhYmxlZENsYXNzTmFtZSxcbiAgICAgIGlucHV0UHJvcHMsXG4gICAgICBtdWx0aXBsZSxcbiAgICAgIG5hbWUsXG4gICAgICByZWplY3RDbGFzc05hbWUsXG4gICAgICAuLi5yZXN0XG4gICAgfSA9IHRoaXMucHJvcHNcblxuICAgIGxldCB7XG4gICAgICBhY2NlcHRTdHlsZSxcbiAgICAgIGFjdGl2ZVN0eWxlLFxuICAgICAgY2xhc3NOYW1lID0gJycsXG4gICAgICBkaXNhYmxlZFN0eWxlLFxuICAgICAgcmVqZWN0U3R5bGUsXG4gICAgICBzdHlsZSxcbiAgICAgIC4uLnByb3BzIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLWNvbnN0XG4gICAgfSA9IHJlc3RcblxuICAgIGNvbnN0IHsgaXNEcmFnQWN0aXZlLCBkcmFnZ2VkRmlsZXMgfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCBmaWxlc0NvdW50ID0gZHJhZ2dlZEZpbGVzLmxlbmd0aFxuICAgIGNvbnN0IGlzTXVsdGlwbGVBbGxvd2VkID0gbXVsdGlwbGUgfHwgZmlsZXNDb3VudCA8PSAxXG4gICAgY29uc3QgaXNEcmFnQWNjZXB0ID0gZmlsZXNDb3VudCA+IDAgJiYgYWxsRmlsZXNBY2NlcHRlZChkcmFnZ2VkRmlsZXMsIHRoaXMucHJvcHMuYWNjZXB0KVxuICAgIGNvbnN0IGlzRHJhZ1JlamVjdCA9IGZpbGVzQ291bnQgPiAwICYmICghaXNEcmFnQWNjZXB0IHx8ICFpc011bHRpcGxlQWxsb3dlZClcbiAgICBjb25zdCBub1N0eWxlcyA9XG4gICAgICAhY2xhc3NOYW1lICYmICFzdHlsZSAmJiAhYWN0aXZlU3R5bGUgJiYgIWFjY2VwdFN0eWxlICYmICFyZWplY3RTdHlsZSAmJiAhZGlzYWJsZWRTdHlsZVxuXG4gICAgaWYgKGlzRHJhZ0FjdGl2ZSAmJiBhY3RpdmVDbGFzc05hbWUpIHtcbiAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBhY3RpdmVDbGFzc05hbWVcbiAgICB9XG4gICAgaWYgKGlzRHJhZ0FjY2VwdCAmJiBhY2NlcHRDbGFzc05hbWUpIHtcbiAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBhY2NlcHRDbGFzc05hbWVcbiAgICB9XG4gICAgaWYgKGlzRHJhZ1JlamVjdCAmJiByZWplY3RDbGFzc05hbWUpIHtcbiAgICAgIGNsYXNzTmFtZSArPSAnICcgKyByZWplY3RDbGFzc05hbWVcbiAgICB9XG4gICAgaWYgKGRpc2FibGVkICYmIGRpc2FibGVkQ2xhc3NOYW1lKSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyAnICsgZGlzYWJsZWRDbGFzc05hbWVcbiAgICB9XG5cbiAgICBpZiAobm9TdHlsZXMpIHtcbiAgICAgIHN0eWxlID0gc3R5bGVzLmRlZmF1bHRcbiAgICAgIGFjdGl2ZVN0eWxlID0gc3R5bGVzLmFjdGl2ZVxuICAgICAgYWNjZXB0U3R5bGUgPSBzdHlsZS5hY3RpdmVcbiAgICAgIHJlamVjdFN0eWxlID0gc3R5bGVzLnJlamVjdGVkXG4gICAgICBkaXNhYmxlZFN0eWxlID0gc3R5bGVzLmRpc2FibGVkXG4gICAgfVxuXG4gICAgbGV0IGFwcGxpZWRTdHlsZSA9IHsgLi4uc3R5bGUgfVxuICAgIGlmIChhY3RpdmVTdHlsZSAmJiBpc0RyYWdBY3RpdmUpIHtcbiAgICAgIGFwcGxpZWRTdHlsZSA9IHtcbiAgICAgICAgLi4uc3R5bGUsXG4gICAgICAgIC4uLmFjdGl2ZVN0eWxlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhY2NlcHRTdHlsZSAmJiBpc0RyYWdBY2NlcHQpIHtcbiAgICAgIGFwcGxpZWRTdHlsZSA9IHtcbiAgICAgICAgLi4uYXBwbGllZFN0eWxlLFxuICAgICAgICAuLi5hY2NlcHRTdHlsZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVqZWN0U3R5bGUgJiYgaXNEcmFnUmVqZWN0KSB7XG4gICAgICBhcHBsaWVkU3R5bGUgPSB7XG4gICAgICAgIC4uLmFwcGxpZWRTdHlsZSxcbiAgICAgICAgLi4ucmVqZWN0U3R5bGVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRpc2FibGVkU3R5bGUgJiYgZGlzYWJsZWQpIHtcbiAgICAgIGFwcGxpZWRTdHlsZSA9IHtcbiAgICAgICAgLi4uc3R5bGUsXG4gICAgICAgIC4uLmRpc2FibGVkU3R5bGVcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBpbnB1dEF0dHJpYnV0ZXMgPSB7XG4gICAgICBhY2NlcHQsXG4gICAgICBkaXNhYmxlZCxcbiAgICAgIHR5cGU6ICdmaWxlJyxcbiAgICAgIHN0eWxlOiB7IGRpc3BsYXk6ICdub25lJyB9LFxuICAgICAgbXVsdGlwbGU6IHN1cHBvcnRNdWx0aXBsZSAmJiBtdWx0aXBsZSxcbiAgICAgIHJlZjogdGhpcy5zZXRSZWZzLFxuICAgICAgb25DaGFuZ2U6IHRoaXMub25Ecm9wLFxuICAgICAgYXV0b0NvbXBsZXRlOiAnb2ZmJ1xuICAgIH1cblxuICAgIGlmIChuYW1lICYmIG5hbWUubGVuZ3RoKSB7XG4gICAgICBpbnB1dEF0dHJpYnV0ZXMubmFtZSA9IG5hbWVcbiAgICB9XG5cbiAgICAvLyBEZXN0cnVjdHVyZSBjdXN0b20gcHJvcHMgYXdheSBmcm9tIHByb3BzIHVzZWQgZm9yIHRoZSBkaXYgZWxlbWVudFxuICAgIGNvbnN0IHtcbiAgICAgIGFjY2VwdGVkRmlsZXMsXG4gICAgICBwcmV2ZW50RHJvcE9uRG9jdW1lbnQsXG4gICAgICBkaXNhYmxlUHJldmlldyxcbiAgICAgIGRpc2FibGVDbGljayxcbiAgICAgIG9uRHJvcEFjY2VwdGVkLFxuICAgICAgb25Ecm9wUmVqZWN0ZWQsXG4gICAgICBvbkZpbGVEaWFsb2dDYW5jZWwsXG4gICAgICBtYXhTaXplLFxuICAgICAgbWluU2l6ZSxcbiAgICAgIC4uLmRpdlByb3BzXG4gICAgfSA9IHByb3BzXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgc3R5bGU9e2FwcGxpZWRTdHlsZX1cbiAgICAgICAgey4uLmRpdlByb3BzIC8qIGV4cGFuZCB1c2VyIHByb3ZpZGVkIHByb3BzIGZpcnN0IHNvIGV2ZW50IGhhbmRsZXJzIGFyZSBuZXZlciBvdmVycmlkZGVuICovfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLmNvbXBvc2VIYW5kbGVycyh0aGlzLm9uQ2xpY2spfVxuICAgICAgICBvbkRyYWdTdGFydD17dGhpcy5jb21wb3NlSGFuZGxlcnModGhpcy5vbkRyYWdTdGFydCl9XG4gICAgICAgIG9uRHJhZ0VudGVyPXt0aGlzLmNvbXBvc2VIYW5kbGVycyh0aGlzLm9uRHJhZ0VudGVyKX1cbiAgICAgICAgb25EcmFnT3Zlcj17dGhpcy5jb21wb3NlSGFuZGxlcnModGhpcy5vbkRyYWdPdmVyKX1cbiAgICAgICAgb25EcmFnTGVhdmU9e3RoaXMuY29tcG9zZUhhbmRsZXJzKHRoaXMub25EcmFnTGVhdmUpfVxuICAgICAgICBvbkRyb3A9e3RoaXMuY29tcG9zZUhhbmRsZXJzKHRoaXMub25Ecm9wKX1cbiAgICAgICAgcmVmPXt0aGlzLnNldFJlZn1cbiAgICAgICAgYXJpYS1kaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICA+XG4gICAgICAgIHt0aGlzLnJlbmRlckNoaWxkcmVuKGNoaWxkcmVuLCBpc0RyYWdBY3RpdmUsIGlzRHJhZ0FjY2VwdCwgaXNEcmFnUmVqZWN0KX1cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgey4uLmlucHV0UHJvcHMgLyogZXhwYW5kIHVzZXIgcHJvdmlkZWQgaW5wdXRQcm9wcyBmaXJzdCBzbyBpbnB1dEF0dHJpYnV0ZXMgb3ZlcnJpZGUgdGhlbSAqL31cbiAgICAgICAgICB7Li4uaW5wdXRBdHRyaWJ1dGVzfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERyb3B6b25lXG5cbkRyb3B6b25lLnByb3BUeXBlcyA9IHtcbiAgLyoqXG4gICAqIEFsbG93IHNwZWNpZmljIHR5cGVzIG9mIGZpbGVzLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL29rb25ldC9hdHRyLWFjY2VwdCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICogS2VlcCBpbiBtaW5kIHRoYXQgbWltZSB0eXBlIGRldGVybWluYXRpb24gaXMgbm90IHJlbGlhYmxlIGFjcm9zcyBwbGF0Zm9ybXMuIENTViBmaWxlcyxcbiAgICogZm9yIGV4YW1wbGUsIGFyZSByZXBvcnRlZCBhcyB0ZXh0L3BsYWluIHVuZGVyIG1hY09TIGJ1dCBhcyBhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwgdW5kZXJcbiAgICogV2luZG93cy4gSW4gc29tZSBjYXNlcyB0aGVyZSBtaWdodCBub3QgYmUgYSBtaW1lIHR5cGUgc2V0IGF0IGFsbC5cbiAgICogU2VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtZHJvcHpvbmUvcmVhY3QtZHJvcHpvbmUvaXNzdWVzLzI3NlxuICAgKi9cbiAgYWNjZXB0OiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBDb250ZW50cyBvZiB0aGUgZHJvcHpvbmVcbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubm9kZSwgUHJvcFR5cGVzLmZ1bmNdKSxcblxuICAvKipcbiAgICogRGlzYWxsb3cgY2xpY2tpbmcgb24gdGhlIGRyb3B6b25lIGNvbnRhaW5lciB0byBvcGVuIGZpbGUgZGlhbG9nXG4gICAqL1xuICBkaXNhYmxlQ2xpY2s6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBFbmFibGUvZGlzYWJsZSB0aGUgZHJvcHpvbmUgZW50aXJlbHlcbiAgICovXG4gIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogRW5hYmxlL2Rpc2FibGUgcHJldmlldyBnZW5lcmF0aW9uXG4gICAqL1xuICBkaXNhYmxlUHJldmlldzogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIElmIGZhbHNlLCBhbGxvdyBkcm9wcGVkIGl0ZW1zIHRvIHRha2Ugb3ZlciB0aGUgY3VycmVudCBicm93c2VyIHdpbmRvd1xuICAgKi9cbiAgcHJldmVudERyb3BPbkRvY3VtZW50OiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogUGFzcyBhZGRpdGlvbmFsIGF0dHJpYnV0ZXMgdG8gdGhlIGA8aW5wdXQgdHlwZT1cImZpbGVcIi8+YCB0YWdcbiAgICovXG4gIGlucHV0UHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIEFsbG93IGRyb3BwaW5nIG11bHRpcGxlIGZpbGVzXG4gICAqL1xuICBtdWx0aXBsZTogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIGBuYW1lYCBhdHRyaWJ1dGUgZm9yIHRoZSBpbnB1dCB0YWdcbiAgICovXG4gIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIE1heGltdW0gZmlsZSBzaXplIChpbiBieXRlcylcbiAgICovXG4gIG1heFNpemU6IFByb3BUeXBlcy5udW1iZXIsXG5cbiAgLyoqXG4gICAqIE1pbmltdW0gZmlsZSBzaXplIChpbiBieXRlcylcbiAgICovXG4gIG1pblNpemU6IFByb3BUeXBlcy5udW1iZXIsXG5cbiAgLyoqXG4gICAqIGNsYXNzTmFtZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBjbGFzc05hbWUgdG8gYXBwbHkgd2hlbiBkcmFnIGlzIGFjdGl2ZVxuICAgKi9cbiAgYWN0aXZlQ2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBjbGFzc05hbWUgdG8gYXBwbHkgd2hlbiBkcm9wIHdpbGwgYmUgYWNjZXB0ZWRcbiAgICovXG4gIGFjY2VwdENsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogY2xhc3NOYW1lIHRvIGFwcGx5IHdoZW4gZHJvcCB3aWxsIGJlIHJlamVjdGVkXG4gICAqL1xuICByZWplY3RDbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIGNsYXNzTmFtZSB0byBhcHBseSB3aGVuIGRyb3B6b25lIGlzIGRpc2FibGVkXG4gICAqL1xuICBkaXNhYmxlZENsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogQ1NTIHN0eWxlcyB0byBhcHBseVxuICAgKi9cbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIENTUyBzdHlsZXMgdG8gYXBwbHkgd2hlbiBkcmFnIGlzIGFjdGl2ZVxuICAgKi9cbiAgYWN0aXZlU3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIENTUyBzdHlsZXMgdG8gYXBwbHkgd2hlbiBkcm9wIHdpbGwgYmUgYWNjZXB0ZWRcbiAgICovXG4gIGFjY2VwdFN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBDU1Mgc3R5bGVzIHRvIGFwcGx5IHdoZW4gZHJvcCB3aWxsIGJlIHJlamVjdGVkXG4gICAqL1xuICByZWplY3RTdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKipcbiAgICogQ1NTIHN0eWxlcyB0byBhcHBseSB3aGVuIGRyb3B6b25lIGlzIGRpc2FibGVkXG4gICAqL1xuICBkaXNhYmxlZFN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBvbkNsaWNrIGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAqL1xuICBvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogb25Ecm9wIGNhbGxiYWNrXG4gICAqL1xuICBvbkRyb3A6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBvbkRyb3BBY2NlcHRlZCBjYWxsYmFja1xuICAgKi9cbiAgb25Ecm9wQWNjZXB0ZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBvbkRyb3BSZWplY3RlZCBjYWxsYmFja1xuICAgKi9cbiAgb25Ecm9wUmVqZWN0ZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBvbkRyYWdTdGFydCBjYWxsYmFja1xuICAgKi9cbiAgb25EcmFnU3RhcnQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBvbkRyYWdFbnRlciBjYWxsYmFja1xuICAgKi9cbiAgb25EcmFnRW50ZXI6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBvbkRyYWdPdmVyIGNhbGxiYWNrXG4gICAqL1xuICBvbkRyYWdPdmVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogb25EcmFnTGVhdmUgY2FsbGJhY2tcbiAgICovXG4gIG9uRHJhZ0xlYXZlOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogUHJvdmlkZSBhIGNhbGxiYWNrIG9uIGNsaWNraW5nIHRoZSBjYW5jZWwgYnV0dG9uIG9mIHRoZSBmaWxlIGRpYWxvZ1xuICAgKi9cbiAgb25GaWxlRGlhbG9nQ2FuY2VsOiBQcm9wVHlwZXMuZnVuY1xufVxuXG5Ecm9wem9uZS5kZWZhdWx0UHJvcHMgPSB7XG4gIHByZXZlbnREcm9wT25Eb2N1bWVudDogdHJ1ZSxcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICBkaXNhYmxlUHJldmlldzogZmFsc2UsXG4gIGRpc2FibGVDbGljazogZmFsc2UsXG4gIG11bHRpcGxlOiB0cnVlLFxuICBtYXhTaXplOiBJbmZpbml0eSxcbiAgbWluU2l6ZTogMFxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2luZGV4LmpzIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJyb290XCI6XCJSZWFjdFwiLFwiY29tbW9uanMyXCI6XCJyZWFjdFwiLFwiY29tbW9uanNcIjpcInJlYWN0XCIsXCJhbWRcIjpcInJlYWN0XCJ9XG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8yX187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wicm9vdFwiOlwiUHJvcFR5cGVzXCIsXCJjb21tb25qczJcIjpcInByb3AtdHlwZXNcIixcImNvbW1vbmpzXCI6XCJwcm9wLXR5cGVzXCIsXCJhbWRcIjpcInByb3AtdHlwZXNcIn1cbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4qIEh0bWw1IEZpbGUgU2VsZWN0b3JcbiogaHR0cHM6Ly9naXRodWIuY29tL3F1YXJrbGVtb3Rpb24vaHRtbDUtZmlsZS1zZWxlY3RvclxuKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiogTElDRU5TRS50eHQgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5jb25zdCBERUZBVUxUX0ZJTEVTX1RPX0lHTk9SRSA9IFtcbiAgJy5EU19TdG9yZScsIC8vIE9TWCBpbmRleGluZyBmaWxlXG4gICdUaHVtYnMuZGInIC8vIFdpbmRvd3MgaW5kZXhpbmcgZmlsZVxuXVxuXG5mdW5jdGlvbiBzaG91bGRJZ25vcmVGaWxlKGZpbGUpIHtcbiAgcmV0dXJuIERFRkFVTFRfRklMRVNfVE9fSUdOT1JFLmluZGV4T2YoZmlsZS5uYW1lKSA+PSAwXG59XG5cbmZ1bmN0aW9uIHRyYXZlcnNlRGlyZWN0b3J5KGVudHJ5KSB7XG4gIGNvbnN0IHJlYWRlciA9IGVudHJ5LmNyZWF0ZVJlYWRlcigpXG4gIC8vIFJlc29sdmVkIHdoZW4gdGhlIGVudGlyZSBkaXJlY3RvcnkgaXMgdHJhdmVyc2VkXG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlRGlyZWN0b3J5ID0+IHtcbiAgICBjb25zdCBpdGVyYXRpb25BdHRlbXB0cyA9IFtdXG4gICAgY29uc3QgZXJyb3JIYW5kbGVyID0gKCkgPT4ge31cbiAgICBmdW5jdGlvbiByZWFkRW50cmllcygpIHtcbiAgICAgIC8vIEFjY29yZGluZyB0byB0aGUgRmlsZVN5c3RlbSBBUEkgc3BlYywgcmVhZEVudHJpZXMoKSBtdXN0IGJlIGNhbGxlZCB1bnRpbFxuICAgICAgLy8gaXQgY2FsbHMgdGhlIGNhbGxiYWNrIHdpdGggYW4gZW1wdHkgYXJyYXkuXG4gICAgICByZWFkZXIucmVhZEVudHJpZXMoYmF0Y2hFbnRyaWVzID0+IHtcbiAgICAgICAgaWYgKCFiYXRjaEVudHJpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gRG9uZSBpdGVyYXRpbmcgdGhpcyBwYXJ0aWN1bGFyIGRpcmVjdG9yeVxuICAgICAgICAgIHJlc29sdmVEaXJlY3RvcnkoUHJvbWlzZS5hbGwoaXRlcmF0aW9uQXR0ZW1wdHMpKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEFkZCBhIGxpc3Qgb2YgcHJvbWlzZXMgZm9yIGVhY2ggZGlyZWN0b3J5IGVudHJ5LiAgSWYgdGhlIGVudHJ5IGlzIGl0c2VsZlxuICAgICAgICAgIC8vIGEgZGlyZWN0b3J5LCB0aGVuIHRoYXQgcHJvbWlzZSB3b24ndCByZXNvbHZlIHVudGlsIGl0IGlzIGZ1bGx5IHRyYXZlcnNlZC5cbiAgICAgICAgICBpdGVyYXRpb25BdHRlbXB0cy5wdXNoKFxuICAgICAgICAgICAgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICAgIGJhdGNoRW50cmllcy5tYXAoYmF0Y2hFbnRyeSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGJhdGNoRW50cnkuaXNEaXJlY3RvcnkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0cmF2ZXJzZURpcmVjdG9yeShiYXRjaEVudHJ5KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGJhdGNoRW50cnkpXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICAgIC8vIFRyeSBjYWxsaW5nIHJlYWRFbnRyaWVzKCkgYWdhaW4gZm9yIHRoZSBzYW1lIGRpciwgYWNjb3JkaW5nIHRvIHNwZWNcbiAgICAgICAgICByZWFkRW50cmllcygpXG4gICAgICAgIH1cbiAgICAgIH0sIGVycm9ySGFuZGxlcilcbiAgICB9XG4gICAgLy8gaW5pdGlhbCBjYWxsIHRvIHJlY3Vyc2l2ZSBlbnRyeSByZWFkZXIgZnVuY3Rpb25cbiAgICByZWFkRW50cmllcygpXG4gIH0pXG59XG5cbi8vIHBhY2thZ2UgdGhlIGZpbGUgaW4gYW4gb2JqZWN0IHRoYXQgaW5jbHVkZXMgdGhlIGZ1bGxQYXRoIGZyb20gdGhlIGZpbGUgZW50cnlcbi8vIHRoYXQgd291bGQgb3RoZXJ3aXNlIGJlIGxvc3RcbmZ1bmN0aW9uIHBhY2thZ2VGaWxlKGZpbGUsIGVudHJ5KSB7XG4gIHJldHVybiB7XG4gICAgZmlsZU9iamVjdDogZmlsZSxcbiAgICB0eXBlOiBmaWxlLnR5cGUgPyBmaWxlLnR5cGUgOiAnJyxcbiAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgc2l6ZTogZmlsZS5zaXplLFxuICAgIGZ1bGxQYXRoOiBlbnRyeSA/IGVudHJ5LmZ1bGxQYXRoIDogZmlsZS5uYW1lXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RmlsZShlbnRyeSkge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgZW50cnkuZmlsZShmaWxlID0+IHtcbiAgICAgIHJlc29sdmUocGFja2FnZUZpbGUoZmlsZSwgZW50cnkpKVxuICAgIH0pXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZpbGVQcm9taXNlcyhwcm9taXNlcywgZmlsZUxpc3QpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZpbGVzID0+IHtcbiAgICBmaWxlcy5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgaWYgKCFzaG91bGRJZ25vcmVGaWxlKGZpbGUpKSB7XG4gICAgICAgIGZpbGVMaXN0LnB1c2goZmlsZSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBmaWxlTGlzdFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YVRyYW5zZmVyRmlsZXMoZGF0YVRyYW5zZmVyKSB7XG4gIGNvbnN0IGRhdGFUcmFuc2ZlckZpbGVzID0gW11cbiAgY29uc3QgZm9sZGVyUHJvbWlzZXMgPSBbXVxuICBjb25zdCBmaWxlUHJvbWlzZXMgPSBbXVxuICA7W10uc2xpY2UuY2FsbChkYXRhVHJhbnNmZXIuaXRlbXMpLmZvckVhY2gobGlzdEl0ZW0gPT4ge1xuICAgIGlmICh0eXBlb2YgbGlzdEl0ZW0ud2Via2l0R2V0QXNFbnRyeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc3QgZW50cnkgPSBsaXN0SXRlbS53ZWJraXRHZXRBc0VudHJ5KClcblxuICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgIGlmIChlbnRyeS5pc0RpcmVjdG9yeSkge1xuICAgICAgICAgIGZvbGRlclByb21pc2VzLnB1c2godHJhdmVyc2VEaXJlY3RvcnkoZW50cnkpKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZpbGVQcm9taXNlcy5wdXNoKGdldEZpbGUoZW50cnkpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGFUcmFuc2ZlckZpbGVzLnB1c2gobGlzdEl0ZW0pXG4gICAgfVxuICB9KVxuICBpZiAoZm9sZGVyUHJvbWlzZXMubGVuZ3RoKSB7XG4gICAgY29uc3QgZmxhdHRlbiA9IGFycmF5ID0+XG4gICAgICBhcnJheS5yZWR1Y2UoXG4gICAgICAgIChhQXJyYXksIGJBcnJheSkgPT4gYUFycmF5LmNvbmNhdChBcnJheS5pc0FycmF5KGJBcnJheSkgPyBmbGF0dGVuKGJBcnJheSkgOiBiQXJyYXkpLFxuICAgICAgICBbXVxuICAgICAgKVxuICAgIHJldHVybiBQcm9taXNlLmFsbChmb2xkZXJQcm9taXNlcykudGhlbihmaWxlRW50cmllcyA9PiB7XG4gICAgICBjb25zdCBmbGF0dGVuZWRFbnRyaWVzID0gZmxhdHRlbihmaWxlRW50cmllcylcbiAgICAgIC8vIGNvbGxlY3QgYXN5bmMgcHJvbWlzZXMgdG8gY29udmVydCBlYWNoIGZpbGVFbnRyeSBpbnRvIGEgRmlsZSBvYmplY3RcbiAgICAgIGZsYXR0ZW5lZEVudHJpZXMuZm9yRWFjaChmaWxlRW50cnkgPT4ge1xuICAgICAgICBmaWxlUHJvbWlzZXMucHVzaChnZXRGaWxlKGZpbGVFbnRyeSkpXG4gICAgICB9KVxuICAgICAgcmV0dXJuIGhhbmRsZUZpbGVQcm9taXNlcyhmaWxlUHJvbWlzZXMsIGRhdGFUcmFuc2ZlckZpbGVzKVxuICAgIH0pXG4gIH0gZWxzZSBpZiAoZmlsZVByb21pc2VzLmxlbmd0aCkge1xuICAgIHJldHVybiBoYW5kbGVGaWxlUHJvbWlzZXMoZmlsZVByb21pc2VzLCBkYXRhVHJhbnNmZXJGaWxlcylcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRhdGFUcmFuc2ZlckZpbGVzKVxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGNhbGxlZCBmcm9tIGJvdGggdGhlIG9uRHJvcCBldmVudCBmcm9tIHlvdXIgZHJhZy9kcm9wXG4gKiBkcm9wem9uZSBhcyB3ZWxsIGFzIGZyb20gdGhlIEhUTUw1IGZpbGUgc2VsZWN0b3IgaW5wdXQgZmllbGQgb25DaGFuZ2UgZXZlbnRcbiAqIGhhbmRsZXIuICBQYXNzIHRoZSBldmVudCBvYmplY3QgZnJvbSB0aGUgdHJpZ2dlcmVkIGV2ZW50IGludG8gdGhpcyBmdW5jdGlvbi5cbiAqIFN1cHBvcnRzIG1peCBvZiBmaWxlcyBhbmQgZm9sZGVycyBkcm9wcGVkIHZpYSBkcmFnL2Ryb3AuXG4gKlxuICogUmV0dXJuczogYW4gYXJyYXkgb2YgRmlsZSBvYmplY3RzLCB0aGF0IGluY2x1ZGVzIGFsbCBmaWxlcyB3aXRoaW4gZm9sZGVyc1xuICogICBhbmQgc3ViZm9sZGVycyBvZiB0aGUgZHJvcHBlZC9zZWxlY3RlZCBpdGVtcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERyb3BwZWRPclNlbGVjdGVkRmlsZXMoZXZlbnQpIHtcbiAgY29uc3QgZGF0YVRyYW5zZmVyID0gZXZlbnQuZGF0YVRyYW5zZmVyXG4gIGlmIChkYXRhVHJhbnNmZXIgJiYgZGF0YVRyYW5zZmVyLml0ZW1zKSB7XG4gICAgcmV0dXJuIGdldERhdGFUcmFuc2ZlckZpbGVzKGRhdGFUcmFuc2ZlcikudGhlbihmaWxlTGlzdCA9PiBQcm9taXNlLnJlc29sdmUoZmlsZUxpc3QpKVxuICB9XG4gIGNvbnN0IGZpbGVzID0gW11cbiAgY29uc3QgZHJhZ0Ryb3BGaWxlTGlzdCA9IGRhdGFUcmFuc2ZlciAmJiBkYXRhVHJhbnNmZXIuZmlsZXNcbiAgY29uc3QgaW5wdXRGaWVsZEZpbGVMaXN0ID0gZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5maWxlc1xuICBjb25zdCBmaWxlTGlzdCA9IGRyYWdEcm9wRmlsZUxpc3QgfHwgaW5wdXRGaWVsZEZpbGVMaXN0IHx8IFtdXG4gIC8vIGNvbnZlcnQgdGhlIEZpbGVMaXN0IHRvIGEgc2ltcGxlIGFycmF5IG9mIEZpbGUgb2JqZWN0c1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVMaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgZmlsZXMucHVzaChwYWNrYWdlRmlsZShmaWxlTGlzdFtpXSkpXG4gIH1cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmaWxlcylcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy91dGlscy9IdG1sNUZpbGVTZWxlY3Rvci5qcyIsImltcG9ydCBhY2NlcHRzIGZyb20gJ2F0dHItYWNjZXB0J1xuXG5leHBvcnQgY29uc3Qgc3VwcG9ydE11bHRpcGxlID1cbiAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5jcmVhdGVFbGVtZW50XG4gICAgPyAnbXVsdGlwbGUnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcbiAgICA6IHRydWVcblxuZXhwb3J0IGZ1bmN0aW9uIGdldERhdGFUcmFuc2Zlckl0ZW1zKGV2ZW50KSB7XG4gIGxldCBkYXRhVHJhbnNmZXJJdGVtc0xpc3QgPSBbXVxuICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyKSB7XG4gICAgY29uc3QgZHQgPSBldmVudC5kYXRhVHJhbnNmZXJcbiAgICBpZiAoZHQuZmlsZXMgJiYgZHQuZmlsZXMubGVuZ3RoKSB7XG4gICAgICBkYXRhVHJhbnNmZXJJdGVtc0xpc3QgPSBkdC5maWxlc1xuICAgIH0gZWxzZSBpZiAoZHQuaXRlbXMgJiYgZHQuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAvLyBEdXJpbmcgdGhlIGRyYWcgZXZlbiB0aGUgZGF0YVRyYW5zZmVyLmZpbGVzIGlzIG51bGxcbiAgICAgIC8vIGJ1dCBDaHJvbWUgaW1wbGVtZW50cyBzb21lIGRyYWcgc3RvcmUsIHdoaWNoIGlzIGFjY2VzaWJsZSB2aWEgZGF0YVRyYW5zZmVyLml0ZW1zXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR0Lml0ZW1zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChkdC5pdGVtc1tpXS5raW5kID09PSAnZmlsZScpIHtcbiAgICAgICAgICBkYXRhVHJhbnNmZXJJdGVtc0xpc3QucHVzaChkdC5pdGVtc1tpXSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LmZpbGVzKSB7XG4gICAgZGF0YVRyYW5zZmVySXRlbXNMaXN0ID0gZXZlbnQudGFyZ2V0LmZpbGVzXG4gIH1cbiAgLy8gQ29udmVydCBmcm9tIERhdGFUcmFuc2Zlckl0ZW1zTGlzdCB0byB0aGUgbmF0aXZlIEFycmF5XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkYXRhVHJhbnNmZXJJdGVtc0xpc3QpXG59XG5cbi8vIEZpcmVmb3ggdmVyc2lvbnMgcHJpb3IgdG8gNTMgcmV0dXJuIGEgYm9ndXMgTUlNRSB0eXBlIGZvciBldmVyeSBmaWxlIGRyYWcsIHNvIGRyYWdvdmVycyB3aXRoXG4vLyB0aGF0IE1JTUUgdHlwZSB3aWxsIGFsd2F5cyBiZSBhY2NlcHRlZFxuZXhwb3J0IGZ1bmN0aW9uIGZpbGVBY2NlcHRlZChmaWxlLCBhY2NlcHQpIHtcbiAgcmV0dXJuIGZpbGUudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL3gtbW96LWZpbGUnIHx8IGFjY2VwdHMoZmlsZSwgYWNjZXB0KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsZU1hdGNoU2l6ZShmaWxlLCBtYXhTaXplLCBtaW5TaXplKSB7XG4gIHJldHVybiBmaWxlLnNpemUgPD0gbWF4U2l6ZSAmJiBmaWxlLnNpemUgPj0gbWluU2l6ZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWxsRmlsZXNBY2NlcHRlZChmaWxlcywgYWNjZXB0KSB7XG4gIHJldHVybiBmaWxlcy5ldmVyeShmaWxlID0+IGZpbGVBY2NlcHRlZChmaWxlLCBhY2NlcHQpKVxufVxuXG4vLyBhbGxvdyB0aGUgZW50aXJlIGRvY3VtZW50IHRvIGJlIGEgZHJhZyB0YXJnZXRcbmV4cG9ydCBmdW5jdGlvbiBvbkRvY3VtZW50RHJhZ092ZXIoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpXG59XG5cbmZ1bmN0aW9uIGlzSWUodXNlckFnZW50KSB7XG4gIHJldHVybiB1c2VyQWdlbnQuaW5kZXhPZignTVNJRScpICE9PSAtMSB8fCB1c2VyQWdlbnQuaW5kZXhPZignVHJpZGVudC8nKSAhPT0gLTFcbn1cblxuZnVuY3Rpb24gaXNFZGdlKHVzZXJBZ2VudCkge1xuICByZXR1cm4gdXNlckFnZW50LmluZGV4T2YoJ0VkZ2UvJykgIT09IC0xXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0llT3JFZGdlKHVzZXJBZ2VudCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSB7XG4gIHJldHVybiBpc0llKHVzZXJBZ2VudCkgfHwgaXNFZGdlKHVzZXJBZ2VudClcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy91dGlscy9pbmRleC5qcyIsIm1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oZSl7aWYocltlXSlyZXR1cm4gcltlXS5leHBvcnRzO3ZhciBvPXJbZV09e2V4cG9ydHM6e30saWQ6ZSxsb2FkZWQ6ITF9O3JldHVybiB0W2VdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8ubG9hZGVkPSEwLG8uZXhwb3J0c312YXIgcj17fTtyZXR1cm4gbi5tPXQsbi5jPXIsbi5wPVwiXCIsbigwKX0oW2Z1bmN0aW9uKHQsbixyKXtcInVzZSBzdHJpY3RcIjtuLl9fZXNNb2R1bGU9ITAscig4KSxyKDkpLG5bXCJkZWZhdWx0XCJdPWZ1bmN0aW9uKHQsbil7aWYodCYmbil7dmFyIHI9ZnVuY3Rpb24oKXt2YXIgcj1BcnJheS5pc0FycmF5KG4pP246bi5zcGxpdChcIixcIiksZT10Lm5hbWV8fFwiXCIsbz10LnR5cGV8fFwiXCIsaT1vLnJlcGxhY2UoL1xcLy4qJC8sXCJcIik7cmV0dXJue3Y6ci5zb21lKGZ1bmN0aW9uKHQpe3ZhciBuPXQudHJpbSgpO3JldHVyblwiLlwiPT09bi5jaGFyQXQoMCk/ZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKG4udG9Mb3dlckNhc2UoKSk6L1xcL1xcKiQvLnRlc3Qobik/aT09PW4ucmVwbGFjZSgvXFwvLiokLyxcIlwiKTpvPT09bn0pfX0oKTtpZihcIm9iamVjdFwiPT10eXBlb2YgcilyZXR1cm4gci52fXJldHVybiEwfSx0LmV4cG9ydHM9bltcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5leHBvcnRzPXt2ZXJzaW9uOlwiMS4yLjJcIn07XCJudW1iZXJcIj09dHlwZW9mIF9fZSYmKF9fZT1yKX0sZnVuY3Rpb24odCxuKXt2YXIgcj10LmV4cG9ydHM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XCJudW1iZXJcIj09dHlwZW9mIF9fZyYmKF9fZz1yKX0sZnVuY3Rpb24odCxuLHIpe3ZhciBlPXIoMiksbz1yKDEpLGk9cig0KSx1PXIoMTkpLGM9XCJwcm90b3R5cGVcIixmPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkobixhcmd1bWVudHMpfX0scz1mdW5jdGlvbih0LG4scil7dmFyIGEscCxsLHksZD10JnMuRyxoPXQmcy5QLHY9ZD9lOnQmcy5TP2Vbbl18fChlW25dPXt9KTooZVtuXXx8e30pW2NdLHg9ZD9vOm9bbl18fChvW25dPXt9KTtkJiYocj1uKTtmb3IoYSBpbiByKXA9ISh0JnMuRikmJnYmJmEgaW4gdixsPShwP3Y6cilbYV0seT10JnMuQiYmcD9mKGwsZSk6aCYmXCJmdW5jdGlvblwiPT10eXBlb2YgbD9mKEZ1bmN0aW9uLmNhbGwsbCk6bCx2JiYhcCYmdSh2LGEsbCkseFthXSE9bCYmaSh4LGEseSksaCYmKCh4W2NdfHwoeFtjXT17fSkpW2FdPWwpfTtlLmNvcmU9byxzLkY9MSxzLkc9MixzLlM9NCxzLlA9OCxzLkI9MTYscy5XPTMyLHQuZXhwb3J0cz1zfSxmdW5jdGlvbih0LG4scil7dmFyIGU9cig1KSxvPXIoMTgpO3QuZXhwb3J0cz1yKDIyKT9mdW5jdGlvbih0LG4scil7cmV0dXJuIGUuc2V0RGVzYyh0LG4sbygxLHIpKX06ZnVuY3Rpb24odCxuLHIpe3JldHVybiB0W25dPXIsdH19LGZ1bmN0aW9uKHQsbil7dmFyIHI9T2JqZWN0O3QuZXhwb3J0cz17Y3JlYXRlOnIuY3JlYXRlLGdldFByb3RvOnIuZ2V0UHJvdG90eXBlT2YsaXNFbnVtOnt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGdldERlc2M6ci5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isc2V0RGVzYzpyLmRlZmluZVByb3BlcnR5LHNldERlc2NzOnIuZGVmaW5lUHJvcGVydGllcyxnZXRLZXlzOnIua2V5cyxnZXROYW1lczpyLmdldE93blByb3BlcnR5TmFtZXMsZ2V0U3ltYm9sczpyLmdldE93blByb3BlcnR5U3ltYm9scyxlYWNoOltdLmZvckVhY2h9fSxmdW5jdGlvbih0LG4pe3ZhciByPTAsZT1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cIlN5bWJvbChcIi5jb25jYXQodm9pZCAwPT09dD9cIlwiOnQsXCIpX1wiLCgrK3IrZSkudG9TdHJpbmcoMzYpKX19LGZ1bmN0aW9uKHQsbixyKXt2YXIgZT1yKDIwKShcIndrc1wiKSxvPXIoMikuU3ltYm9sO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZVt0XXx8KGVbdF09byYmb1t0XXx8KG98fHIoNikpKFwiU3ltYm9sLlwiK3QpKX19LGZ1bmN0aW9uKHQsbixyKXtyKDI2KSx0LmV4cG9ydHM9cigxKS5BcnJheS5zb21lfSxmdW5jdGlvbih0LG4scil7cigyNSksdC5leHBvcnRzPXIoMSkuU3RyaW5nLmVuZHNXaXRofSxmdW5jdGlvbih0LG4pe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhIGZ1bmN0aW9uIVwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsbil7dmFyIHI9e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByLmNhbGwodCkuc2xpY2UoOCwtMSl9fSxmdW5jdGlvbih0LG4scil7dmFyIGU9cigxMCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsbixyKXtpZihlKHQpLHZvaWQgMD09PW4pcmV0dXJuIHQ7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHQuY2FsbChuLHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsZSl7cmV0dXJuIHQuY2FsbChuLHIsZSl9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixlLG8pe3JldHVybiB0LmNhbGwobixyLGUsbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KG4sYXJndW1lbnRzKX19fSxmdW5jdGlvbih0LG4pe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih2b2lkIDA9PXQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiK3QpO3JldHVybiB0fX0sZnVuY3Rpb24odCxuLHIpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgbj0vLi87dHJ5e1wiLy4vXCJbdF0obil9Y2F0Y2goZSl7dHJ5e3JldHVybiBuW3IoNykoXCJtYXRjaFwiKV09ITEsIVwiLy4vXCJbdF0obil9Y2F0Y2gobyl7fX1yZXR1cm4hMH19LGZ1bmN0aW9uKHQsbil7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4hIXQoKX1jYXRjaChuKXtyZXR1cm4hMH19fSxmdW5jdGlvbih0LG4pe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdD9udWxsIT09dDpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0fX0sZnVuY3Rpb24odCxuLHIpe3ZhciBlPXIoMTYpLG89cigxMSksaT1yKDcpKFwibWF0Y2hcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBuO3JldHVybiBlKHQpJiYodm9pZCAwIT09KG49dFtpXSk/ISFuOlwiUmVnRXhwXCI9PW8odCkpfX0sZnVuY3Rpb24odCxuKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxuKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6bn19fSxmdW5jdGlvbih0LG4scil7dmFyIGU9cigyKSxvPXIoNCksaT1yKDYpKFwic3JjXCIpLHU9XCJ0b1N0cmluZ1wiLGM9RnVuY3Rpb25bdV0sZj0oXCJcIitjKS5zcGxpdCh1KTtyKDEpLmluc3BlY3RTb3VyY2U9ZnVuY3Rpb24odCl7cmV0dXJuIGMuY2FsbCh0KX0sKHQuZXhwb3J0cz1mdW5jdGlvbih0LG4scix1KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiYobyhyLGksdFtuXT9cIlwiK3Rbbl06Zi5qb2luKFN0cmluZyhuKSkpLFwibmFtZVwiaW4gcnx8KHIubmFtZT1uKSksdD09PWU/dFtuXT1yOih1fHxkZWxldGUgdFtuXSxvKHQsbixyKSl9KShGdW5jdGlvbi5wcm90b3R5cGUsdSxmdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMmJnRoaXNbaV18fGMuY2FsbCh0aGlzKX0pfSxmdW5jdGlvbih0LG4scil7dmFyIGU9cigyKSxvPVwiX19jb3JlLWpzX3NoYXJlZF9fXCIsaT1lW29dfHwoZVtvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpW3RdfHwoaVt0XT17fSl9fSxmdW5jdGlvbih0LG4scil7dmFyIGU9cigxNyksbz1yKDEzKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxuLHIpe2lmKGUobikpdGhyb3cgVHlwZUVycm9yKFwiU3RyaW5nI1wiK3IrXCIgZG9lc24ndCBhY2NlcHQgcmVnZXghXCIpO3JldHVybiBTdHJpbmcobyh0KSl9fSxmdW5jdGlvbih0LG4scil7dC5leHBvcnRzPSFyKDE1KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24odCxuKXt2YXIgcj1NYXRoLmNlaWwsZT1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odD0rdCk/MDoodD4wP2U6cikodCl9fSxmdW5jdGlvbih0LG4scil7dmFyIGU9cigyMyksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+MD9vKGUodCksOTAwNzE5OTI1NDc0MDk5MSk6MH19LGZ1bmN0aW9uKHQsbixyKXtcInVzZSBzdHJpY3RcIjt2YXIgZT1yKDMpLG89cigyNCksaT1yKDIxKSx1PVwiZW5kc1dpdGhcIixjPVwiXCJbdV07ZShlLlArZS5GKnIoMTQpKHUpLFwiU3RyaW5nXCIse2VuZHNXaXRoOmZ1bmN0aW9uKHQpe3ZhciBuPWkodGhpcyx0LHUpLHI9YXJndW1lbnRzLGU9ci5sZW5ndGg+MT9yWzFdOnZvaWQgMCxmPW8obi5sZW5ndGgpLHM9dm9pZCAwPT09ZT9mOk1hdGgubWluKG8oZSksZiksYT1TdHJpbmcodCk7cmV0dXJuIGM/Yy5jYWxsKG4sYSxzKTpuLnNsaWNlKHMtYS5sZW5ndGgscyk9PT1hfX0pfSxmdW5jdGlvbih0LG4scil7dmFyIGU9cig1KSxvPXIoMyksaT1yKDEpLkFycmF5fHxBcnJheSx1PXt9LGM9ZnVuY3Rpb24odCxuKXtlLmVhY2guY2FsbCh0LnNwbGl0KFwiLFwiKSxmdW5jdGlvbih0KXt2b2lkIDA9PW4mJnQgaW4gaT91W3RdPWlbdF06dCBpbltdJiYodVt0XT1yKDEyKShGdW5jdGlvbi5jYWxsLFtdW3RdLG4pKX0pfTtjKFwicG9wLHJldmVyc2Usc2hpZnQsa2V5cyx2YWx1ZXMsZW50cmllc1wiLDEpLGMoXCJpbmRleE9mLGV2ZXJ5LHNvbWUsZm9yRWFjaCxtYXAsZmlsdGVyLGZpbmQsZmluZEluZGV4LGluY2x1ZGVzXCIsMyksYyhcImpvaW4sc2xpY2UsY29uY2F0LHB1c2gsc3BsaWNlLHVuc2hpZnQsc29ydCxsYXN0SW5kZXhPZixyZWR1Y2UscmVkdWNlUmlnaHQsY29weVdpdGhpbixmaWxsXCIpLG8oby5TLFwiQXJyYXlcIix1KX1dKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9hdHRyLWFjY2VwdC9kaXN0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydCBkZWZhdWx0IHtcbiAgcmVqZWN0ZWQ6IHtcbiAgICBib3JkZXJTdHlsZTogJ3NvbGlkJyxcbiAgICBib3JkZXJDb2xvcjogJyNjNjYnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyNlZWUnXG4gIH0sXG4gIGRpc2FibGVkOiB7XG4gICAgb3BhY2l0eTogMC41XG4gIH0sXG4gIGFjdGl2ZToge1xuICAgIGJvcmRlclN0eWxlOiAnc29saWQnLFxuICAgIGJvcmRlckNvbG9yOiAnIzZjNicsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnI2VlZSdcbiAgfSxcbiAgZGVmYXVsdDoge1xuICAgIHdpZHRoOiAyMDAsXG4gICAgaGVpZ2h0OiAyMDAsXG4gICAgYm9yZGVyV2lkdGg6IDIsXG4gICAgYm9yZGVyQ29sb3I6ICcjNjY2JyxcbiAgICBib3JkZXJTdHlsZTogJ2Rhc2hlZCcsXG4gICAgYm9yZGVyUmFkaXVzOiA1XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy91dGlscy9zdHlsZXMuanMiXSwic291cmNlUm9vdCI6IiJ9